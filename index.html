<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cesta B√°sica em Cuiab√° e V√°rzea Grande | Dona Ant√¥nia</title>
    
    <!-- PWA & Manifest (RESTAURADO) -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#D32F2F">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Metatags Open Graph -->
    <meta property="og:title" content="Cestas B√°sicas Dona Ant√¥nia: Qualidade e Pre√ßo Justo em Cuiab√° e VG">
    <meta property="og:description" content="A melhor op√ß√£o em alimentos para sua fam√≠lia h√° 8 anos. Encomende agora!">
    <meta property="og:image" content="https://placehold.co/512x512?text=Logo">
    <meta property="og:url" content="https://donaantonia.com.br/">

    <!-- √çcones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* === ESTILOS GLOBAIS === */
        * { box-sizing: border-box; }

        :root {
            --cor-primaria: #D32F2F; 
            --cor-whatsapp: #25D366;
            --cor-telegram: #0088cc;
            --cor-facebook: #1877F2; 
            --cor-info: #1E88E5; /* Azul para Informa√ß√µes */
            --cor-texto: #222;
            --cor-fundo: #fafafa;
            --cor-pagamento: #2196F3; 
            --cor-sorteio: #4CAF50; 
            --cor-header-fundo: #f5f5f5;
            --altura-header: 90px;
            --largura-logo: 115px; /* Vari√°vel para controle */
        }

        html { 
            background-color: #e0e0e0; 
            scroll-behavior: smooth;
            scroll-padding-top: calc(var(--altura-header) + 5px); 
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #e0e0e0; 
            color: var(--cor-texto);
            margin: 0; 
            padding: 0;
            padding-top: calc(var(--altura-header) + 5px); 
            padding-bottom: 20px;
            min-height: 10vh;
            position: relative; 
            width: 100%;
        }

        .main-content-wrapper {
            max-width: 480px;
            margin: 0 auto; 
            background-color: var(--cor-fundo); 
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        /* --- TOAST NOTIFICATION (NOVO - PARA MENSAGENS VIS√çVEIS) --- */
        #toast-container {
            position: fixed;
            bottom: 20px; /* Aparece embaixo para n√£o cobrir o header */
            left: 50%;
            transform: translateX(-50%);
            z-index: 6000;
            width: 90%;
            max-width: 400px;
            text-align: center;
            pointer-events: none; /* Permite clicar atrav√©s se n√£o tiver msg */
        }
        .toast-message {
            background-color: #333;
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            margin-bottom: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            font-size: 14px;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s, transform 0.3s;
            pointer-events: auto;
        }
        .toast-message.show {
            opacity: 1;
            transform: translateY(0);
        }
        .toast-success { background-color: var(--cor-whatsapp); }
        .toast-error { background-color: var(--cor-primaria); }
        .toast-info { background-color: #333; }

        /* --- CABE√áALHO --- */
        header {
            background-color: white;
            height: var(--altura-header);
            padding: 0;
            display: flex;
            flex-direction: row; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
            position: fixed;
            top: 0;
            left: 50%; 
            transform: translateX(-50%); 
            width: 100%;
            max-width: 480px;
            z-index: 1000;
        }

        .header-background-bar {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: var(--altura-header);
            background-color: var(--cor-header-fundo);
            z-index: 999;
        }
        
        .header-top {
            display: flex;
            justify-content: flex-end; 
            align-items: center;
            width: 100%;
            height: 100%;
            padding: 5px 15px;
            position: relative;
            z-index: 1002;
        }

        /* --- LOGO --- */
        .logo-pequ { 
            height: var(--largura-logo);
            width: var(--largura-logo); 
            object-fit: cover; 
            border-radius: 50%; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.2); 
            position: fixed;
            top: 5px; 
            left: 15px; /* Posi√ß√£o fixa √† esquerda */
            margin-left: 0;
            z-index: 2000; 
            background-color: white;
            padding: 2px;
            transition: all 0.3s ease;
        }

        /* --- BOT√ÉO CONTATO (COM L√ìGICA ANTI-SOBREPOSI√á√ÉO) --- */
        .btn-contato-principal {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            background-color: #FFEB3B;
            color: #333;
            border: 1px solid #fdd835;
            border-radius: 8px;
            padding: 10px 18px; 
            cursor: pointer;
            text-decoration: none;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: all 0.2s;
            margin-left: auto;
            text-align: left;
            
            /* L√ìGICA CR√çTICA: Largura m√°xima calculada para nunca tocar na logo */
            /* 100% do container - largura da logo - margem de seguran√ßa (30px) */
            max-width: calc(100% - var(--largura-logo) - 20px); 
        }
        .btn-contato-principal:active { transform: scale(0.96); }
        
        .btn-contato-icon {
            font-size: 24px;
            margin-right: 12px;
            color: var(--cor-primaria);
            flex-shrink: 0; /* Impede que o √≠cone amasse */
        }
        .btn-contato-text-main {
            display: block;
            font-weight: 800;
            font-size: 14px;
            line-height: 1.2;
        }
        .btn-contato-text-sub {
            display: block;
            font-size: 12px;
            font-weight: 500;
            color: #444;
        }

        /* --- MEDIA QUERY PARA CELULARES PEQUENOS (< 380px) --- */
        @media (max-width: 380px) {
            :root {
                --largura-logo: 90px; /* Reduz logo automaticamente */
                --altura-header: 85px;
            }
            
            .logo-pequ {
                left: 10px; /* Ajusta margem esquerda */
            }

            .btn-contato-principal {
                padding: 8px 12px;
                /* O max-width se ajusta sozinho gra√ßas √† vari√°vel --largura-logo */
            }
            
            .btn-contato-icon {
                font-size: 20px;
                margin-right: 8px;
            }
            .btn-contato-text-main {
                font-size: 12px; /* Fonte reduzida para caber */
            }
            .btn-contato-text-sub {
                font-size: 10px;
            }
        }

        /* --- CARDS --- */
        .secao-conteudo { padding: 15px; }
        .card { 
            background: white; 
            border-radius: 12px; 
            padding: 15px; 
            margin-bottom: 15px; 
            border: 1px solid #f0f0f0; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.02); 
        }
        
        h2 { color: var(--cor-primaria); margin-top: 0; font-size: 1.2rem; }
        
        .card-cesta { padding: 0; overflow: hidden; border: 1px solid #eee; }
        .cesta-header { background-color: var(--cor-primaria); padding: 15px; text-align: center; color: white; }
        .cesta-header h3 { margin: 0; color: white; font-size: 20px; text-transform: uppercase; letter-spacing: 1px; }
        .cesta-body { padding: 15px; }

        /* IMAGEM √öNICA (SEM GALERIA) */
        .foto-cesta-unica { 
            width: 100%; 
            aspect-ratio: 1 / 1; 
            object-fit: cover; 
            display: block;
            border-radius: 8px;
            margin-bottom: 15px;
            background: #eee;
        }

        /* PRE√áOS */
        .lista-precos-cesta {
            background-color: #f9f9f9; border-radius: 8px; padding: 12px; margin: 15px 0; border: 1px solid #eee;
        }
        .item-preco { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; font-size: 15px; color: #444; }
        .item-preco:last-child { margin-bottom: 0; }
        .item-preco strong { color: var(--cor-primaria); font-size: 18px; }

        /* BOT√ïES */
        .botoes-wrapper { 
            display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px;
        }
        .btn {
            display: flex; align-items: center; justify-content: center; width: 100%; padding: 15px; 
            border: none; border-radius: 8px; font-size: 15px; font-weight: bold; cursor: pointer;
            text-decoration: none; color: white; box-shadow: 0 4px 10px rgba(0,0,0,0.1); transition: transform 0.2s;
            word-break: break-word; 
        }
        .btn-encomendar { background-color: var(--cor-whatsapp); }
        .btn-info { background-color: var(--cor-info); } /* Bot√£o Info Azul */
        .btn:active { transform: scale(0.98); }
        
        /* --- EXTRAS --- */
        .section-icon-header { text-align: center; margin-bottom: 20px; position: relative; z-index: 10; }
        .section-icon-header img {
            width: 60px; height: 60px; object-fit: contain; background-color: var(--cor-primaria);
            border-radius: 50%; padding: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .lista-pagamento { list-style: none; padding: 0; }
        .lista-pagamento li { padding: 10px 0; border-bottom: 1px solid #eee; font-size: 16px; display: flex; align-items: center; }
        .lista-pagamento li span.emoji-icon { font-size: 20px; width: 30px; text-align: center; margin-right: 5px; }

        .area-resultado-busca {
            background-color: #e8f5e9; border: 1px solid #a5d6a7; border-radius: 8px; padding: 15px; margin-top: 15px; text-align: center;
        }
        .area-resultado-busca h2 { color: #388e3c; } 
        #cadastro-novo { background-color: #fff3e0; border: 1px solid #ffcc80; }
        #cadastro-novo h2 { color: #e65100; } 
        input, select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; margin-bottom: 10px; font-size: 16px; }
        
        /* --- MODAIS (GERAL) --- */
        .modal-variacao, #modalReceptivo, #modalContatos, #modalInformacoes {
            display: none; position: fixed; z-index: 4000; left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.6); justify-content: center; align-items: center; backdrop-filter: blur(2px);
        }
        #modalReceptivo { z-index: 5000; background-color: rgba(0,0,0,0.7); }
        #modalContatos { z-index: 4500; }
        #modalInformacoes { z-index: 4600; }

        /* ESTILO DO MODAL DE ABAS */
        .modal-info-content {
            background-color: white; width: 90%; max-width: 420px; border-radius: 12px; 
            overflow: hidden; display: flex; flex-direction: column; max-height: 85vh; /* Limite de altura */
            box-shadow: 0 5px 25px rgba(0,0,0,0.3); animation: zoomIn 0.2s;
        }
        
        .modal-info-header {
            background-color: var(--cor-fundo); padding: 10px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #ddd;
        }
        .modal-info-header h3 { margin: 0; color: var(--cor-primaria); font-size: 18px; margin-left: 10px;}
        .btn-fechar-modal-info { background: none; border: none; font-size: 28px; color: #999; cursor: pointer; padding: 0 10px; }

        /* ABAS */
        .tabs { display: flex; background-color: white; border-bottom: 2px solid #eee; }
        .tab-btn {
            flex: 1; padding: 15px 5px; border: none; background: none; font-size: 14px; 
            font-weight: 600; color: #666; cursor: pointer; transition: all 0.2s; text-transform: uppercase;
            border-bottom: 3px solid transparent;
        }
        .tab-btn.active { color: var(--cor-primaria); border-bottom-color: var(--cor-primaria); background-color: #fff8f8; }
        
        /* CONTE√öDO DAS ABAS */
        .tab-content-area {
            padding: 20px; overflow-y: auto; /* SCROLL PARA LISTAS GRANDES */
            flex: 1; /* Ocupa o resto do modal */
        }
        .tab-pane { display: none; }
        .tab-pane.active { display: block; animation: fadeIn 0.3s; }
        
        /* Lista de Produtos no Modal */
        .lista-produtos-modal { list-style: none; padding: 0; margin: 0; }
        .lista-produtos-modal li { padding: 8px 0; border-bottom: 1px dashed #eee; font-size: 14px; color: #444; }
        .lista-produtos-modal li:last-child { border-bottom: none; }
        .lista-produtos-modal li i { color: var(--cor-whatsapp); margin-right: 8px; font-size: 10px; }
        .section-title { font-weight: bold; color: var(--cor-primaria); margin-top: 15px; margin-bottom: 5px; font-size: 15px; display: block; background: #ffebee; padding: 5px; border-radius: 4px; }

        /* --- OUTROS MODAIS --- */
        .modal-receptivo-content {
            background-color: white; width: 90%; max-width: 380px; border-radius: 16px; padding: 25px; padding-top: 60px;
            position: relative; text-align: center; box-shadow: 0 8px 30px rgba(0,0,0,0.4); animation: zoomIn 0.3s;
        }
        .modal-logo-receptivo {
            position: absolute; top: -40px; left: 50%; transform: translateX(-50%); width: 80px; height: 80px;
            border-radius: 50%; background-color: white; padding: 3px; box-shadow: 0 4px 15px rgba(0,0,0,0.4); z-index: 5001; 
        }
        .modal-logo-receptivo img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }

        @keyframes zoomIn { from { transform: scale(0.7); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .titulo-receptivo { color: var(--cor-primaria); font-size: 1.5rem; margin-bottom: 10px; font-weight: 700; }
        .subtitulo-receptivo { color: #555; font-size: 1.1rem; margin-bottom: 25px; line-height: 1.4; }
        .btn-receptivo {
            padding: 15px 25px; border-radius: 10px; font-size: 18px; font-weight: bold; cursor: pointer;
            display: block; width: 100%; border: none; transition: transform 0.2s;
        }
        .btn-ver-cestas { background-color: var(--cor-primaria); color: white; }
        .btn-eu-quero { background-color: var(--cor-whatsapp); color: white; }
        .etapa-modal { display: none; }
        .etapa-modal.ativa { display: block; }
        
        .modal-variacao-content {
            background-color: white; width: 90%; max-width: 350px; border-radius: 16px; padding: 20px;
            position: relative; text-align: center;
        }
        .btn-fechar-modal-var { position: absolute; top: 10px; right: 15px; background: none; border: none; font-size: 24px; color: #999; cursor: pointer; }
        .opcao-select {
            display: flex; align-items: center; justify-content: space-between; padding: 15px; border: 2px solid #eee; 
            border-radius: 8px; margin-bottom: 10px; cursor: pointer; text-align: left;
        }
        .opcao-select.selected { border-color: var(--cor-primaria); background-color: #ffebee; }
        .opcao-nome { font-weight: bold; color: #333; }
        .opcao-preco { color: var(--cor-primaria); font-weight: 900; }
        .radio-custom { width: 20px; height: 20px; border: 2px solid #ccc; border-radius: 50%; position: relative; }
        .selected .radio-custom::after { content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 10px; height: 10px; background-color: var(--cor-primaria); border-radius: 50%; }
        .btn-confirmar-pedido { 
            width: 100%; padding: 15px; background-color: var(--cor-whatsapp); color: white; border: none; 
            border-radius: 8px; font-weight: bold; font-size: 16px; margin-top: 10px; cursor: pointer; 
            display: flex; align-items: center; justify-content: center; gap: 10px; text-transform: uppercase;
        }
        .btn-confirmar-pedido:disabled { background-color: #ccc; cursor: not-allowed; }

        .lista-botoes-contato { display: flex; flex-direction: column; gap: 12px; margin-top: 20px; }
        .btn-contato-modal {
            display: flex; align-items: center; justify-content: flex-start; padding: 12px 15px;
            border-radius: 8px; text-decoration: none; font-weight: 600; color: white;
            transition: opacity 0.2s; box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .btn-contato-modal:active { opacity: 0.8; transform: scale(0.98); }
        .btn-contato-modal i { font-size: 20px; width: 30px; text-align: center; margin-right: 10px; }
        
        .bg-whatsapp { background-color: var(--cor-whatsapp); }
        .bg-telegram { background-color: var(--cor-telegram); }
        .bg-instagram { background: linear-gradient(45deg, #f09433, #dc2743, #bc1888); }
        .bg-facebook { background-color: var(--cor-facebook); }
        .bg-ligar { background-color: #2e7d32; }
        .btn-destaque-app {
            background: linear-gradient(45deg, #FFD700, #FFA000); color: #222 !important; border: 2px solid white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.15); font-weight: 700; margin-top: 5px; justify-content: center; text-transform: uppercase; font-size: 14px;
        }

        @media (min-width: 481px) {
            .main-content-wrapper, header, .header-background-bar { max-width: 900px; }
            .header-background-bar { left: 50%; transform: translateX(-50%); }
            .secao-conteudo { padding: 20px 30px; }
        }
        @media (min-width: 940px) { .logo-pequ { left: 50%; margin-left: calc(-450px + 20px); } }
        @media (min-width: 768px) { .cesta-cards-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; } }
    </style>
</head>
<body>
    
    <div id="toast-container"></div> <!-- Container para os Toasts -->

    <div class="header-background-bar"></div>

    <img src="img/logo2.gif" id="logo-principal" onerror="this.src='https://placehold.co/120x120?text=LOGO'" alt="Logo Dona Ant√¥nia" class="logo-pequ">

    <header>
        <div class="header-top">
            <button class="btn-contato-principal" onclick="abrirModalContatos()">
                <div class="btn-contato-icon"><i class="fas fa-address-book"></i></div>
                <div>
                    <span class="btn-contato-text-main">Salve nosso contato.</span>
                    <span class="btn-contato-text-sub">Aqui compensa muito comprar!</span>
                </div>
            </button>
        </div>
    </header>

    <div class="main-content-wrapper">
        <div id="pag-cestas" class="secao-conteudo">
            <div class="card" style="text-align: center; background-color: #fff3e0;">
                <h1 style="margin: 0; font-size: 1.1rem; font-weight: bold; color: #E65100;">üëë 8 anos de tradi√ß√£o em Cuiab√° e VG</h1>
                <p style="margin: 5px 0 0 0; font-size: 0.9rem; color: #666;">Cestas b√°sicas com pre√ßo justo e qualidade garantida.</p>
            </div>

            <div class="cesta-cards-grid">
                <!-- CESTA ECON√îMICA -->
                <div class="card card-cesta" id="cestaeconomica">
                    <div class="cesta-header"><h3>CESTA ECON√îMICA</h3></div>
                    <div class="cesta-body">
                        <!-- Imagem √önica -->
                        <img src="img/cesta-economica1.jpg" class="foto-cesta-unica" alt="Cesta Econ√¥mica" onerror="this.src='https://placehold.co/400x400?text=ECON√îMICA'">
                        <div class="lista-precos-cesta">
                            <div class="item-preco"><span>Com Arroz Tio Alvino:</span><strong>R$ 85,00</strong></div>
                        </div>
                        <div class="botoes-wrapper">
                            <button class="btn btn-encomendar" onclick="encomendarDireto('Cesta Econ√¥mica', '85,00', false)">
                                <i class="fab fa-whatsapp" style="margin-right: 8px;"></i> Encomendar
                            </button>
                            <!-- Bot√£o Informa√ß√µes (substitui Compartilhar) -->
                            <button class="btn btn-info" onclick="abrirModalInfo('economica')">
                                <i class="fas fa-info-circle" style="margin-right: 8px;"></i> Informa√ß√µes
                            </button>
                        </div>
                    </div>
                </div>

                <!-- CESTA MINI -->
                <div class="card card-cesta" id="cestamini">
                    <div class="cesta-header"><h3>CESTA MINI</h3></div>
                    <div class="cesta-body">
                        <img src="img/cesta-mini1.jpg" class="foto-cesta-unica" alt="Cesta Mini" onerror="this.src='https://placehold.co/400x400?text=MINI'">
                        <div class="lista-precos-cesta">
                            <div class="item-preco"><span>Com Arroz Tio Alvino:</span><strong>R$ 165,00</strong></div>
                            <div class="item-preco"><span>Com Arroz Koblenz:</span><strong>R$ 170,00</strong></div>
                        </div>
                        <div class="botoes-wrapper">
                            <button class="btn btn-encomendar" onclick="abrirModalVariacao('Cesta Mini', '165,00', '170,00')">
                                <i class="fab fa-whatsapp" style="margin-right: 8px;"></i> Encomendar
                            </button>
                            <button class="btn btn-info" onclick="abrirModalInfo('mini')">
                                <i class="fas fa-info-circle" style="margin-right: 8px;"></i> Informa√ß√µes
                            </button>
                        </div>
                    </div>
                </div>

                <!-- CESTA PEQUENA -->
                <div class="card card-cesta" id="cestapequena">
                    <div class="cesta-header"><h3>CESTA PEQUENA</h3></div>
                    <div class="cesta-body">
                        <img src="img/cesta-pequena1.jpg" class="foto-cesta-unica" alt="Cesta Pequena" onerror="this.src='https://placehold.co/400x400?text=PEQUENA'">
                        <div class="lista-precos-cesta">
                            <div class="item-preco"><span>Com Arroz Tio Alvino:</span><strong>R$ 215,00</strong></div>
                            <div class="item-preco"><span>Com Arroz Koblenz:</span><strong>R$ 220,00</strong></div>
                        </div>
                        <div class="botoes-wrapper">
                            <button class="btn btn-encomendar" onclick="abrirModalVariacao('Cesta Pequena', '215,00', '220,00')">
                                <i class="fab fa-whatsapp" style="margin-right: 8px;"></i> Encomendar
                            </button>
                            <button class="btn btn-info" onclick="abrirModalInfo('pequena')">
                                <i class="fas fa-info-circle" style="margin-right: 8px;"></i> Informa√ß√µes
                            </button>
                        </div>
                    </div>
                </div>

                <!-- CESTA M√âDIA -->
                <div class="card card-cesta" id="cestamedia">
                    <div class="cesta-header"><h3>CESTA M√âDIA</h3></div>
                    <div class="cesta-body">
                        <img src="img/cesta-media1.jpg" class="foto-cesta-unica" alt="Cesta M√©dia" onerror="this.src='https://placehold.co/400x400?text=M√âDIA'">
                        <div class="lista-precos-cesta">
                            <div class="item-preco"><span>Com Arroz Tio Alvino:</span><strong>R$ 320,00</strong></div>
                            <div class="item-preco"><span>Com Arroz Koblenz:</span><strong>R$ 325,00</strong></div>
                        </div>
                        <div class="botoes-wrapper">
                            <button class="btn btn-encomendar" onclick="abrirModalVariacao('Cesta M√©dia', '320,00', '325,00')">
                                <i class="fab fa-whatsapp" style="margin-right: 8px;"></i> Encomendar
                            </button>
                            <button class="btn btn-info" onclick="abrirModalInfo('media')">
                                <i class="fas fa-info-circle" style="margin-right: 8px;"></i> Informa√ß√µes
                            </button>
                        </div>
                    </div>
                </div>

                <!-- CESTA GRANDE -->
                <div class="card card-cesta" id="cestagrande">
                    <div class="cesta-header"><h3>CESTA GRANDE</h3></div>
                    <div class="cesta-body">
                        <img src="img/cesta-grande1.jpg" class="foto-cesta-unica" alt="Cesta Grande" onerror="this.src='https://placehold.co/400x400?text=GRANDE'">
                        <div class="lista-precos-cesta">
                            <div class="item-preco"><span>Com Arroz Tio Alvino:</span><strong>R$ 380,00</strong></div>
                            <div class="item-preco"><span>Com Arroz Koblenz:</span><strong>R$ 390,00</strong></div>
                        </div>
                        <div class="botoes-wrapper">
                            <button class="btn btn-encomendar" onclick="abrirModalVariacao('Cesta Grande', '380,00', '390,00')">
                                <i class="fab fa-whatsapp" style="margin-right: 8px;"></i> Encomendar
                            </button>
                            <button class="btn btn-info" onclick="abrirModalInfo('grande')">
                                <i class="fas fa-info-circle" style="margin-right: 8px;"></i> Informa√ß√µes
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- SE√á√ïES EXTRAS -->
        <div class="secoes-extras-grid">
            <div id="pag-pagamento" class="secao-conteudo">
                <div class="section-icon-header">
                    <img src="img/pagamento.png" alt="Pagamento Icone" onerror="this.onerror=null;this.src='https://placehold.co/60x60/2196F3/ffffff?text=P'">
                </div>
                <div class="card">
                    <h2>üí≥ Formas de Pagamento</h2>
                    <!-- Adicionei ID para facilitar a c√≥pia para o modal -->
                    <ul class="lista-pagamento" id="lista-pagamento-original">
                        <li><span class="emoji-icon">üíµ</span> Dinheiro</li>
                        <li><span class="emoji-icon">‚ú®</span> Pix</li>
                        <li><span class="emoji-icon">üí≥</span> Cart√£o de D√©bito</li>
                        <li><span class="emoji-icon">üí≥</span> Cart√£o de Cr√©dito (at√© 3x sem juros)</li>
                        <li><span class="emoji-icon">ü•ó</span> Alelo, Sodexo, Pluxee</li>
                        <li><span class="emoji-icon">üì±</span> Ifood, Caju e Flash</li>
                    </ul>
                    <p style="color: red; font-size: 18px; text-align: center; margin-top: 20px;"><strong>‚ö†Ô∏è Aten√ß√£o:</strong> N√£o vendemos a prazo.</p>
                </div>
            </div>

            <div id="pag-sorteio" class="secao-conteudo">
                <div class="section-icon-header">
                    <img src="img/cesta.png" alt="Sorteio Icone" onerror="this.onerror=null;this.src='https://placehold.co/60x60/4CAF50/ffffff?text=S'">
                </div>
                <div class="card">
                    <h2>üéâ Sorteio todo Domingo.</h2>
                    <p>Pr√≥ximo Sorteio dia 7 de Dezembro as 18h. V√°lido para moradores de Cuiab√° e VG</p>
                    
                    <div id="area-busca-telefone" class="card" style="margin-bottom: 15px;">
                        <h2>üçÄ Participe</h2>
                        <label>Telefone (Whatsapp): <span style="color:red">*</span></label>
                        <input type="tel" id="busca-telefone" placeholder="Digite seu telefone..." required>
                        <button onclick="buscarCadastro()" class="btn" style="background-color: var(--cor-primaria); margin-top: 5px;">
                            <i class="fas fa-search" style="margin-right: 8px;"></i> Participar
                        </button>
                    </div>

                    <div id="cadastro-encontrado" class="area-resultado-busca" style="display: none;">
                        <h2>‚úÖ Cadastro Encontrado!</h2>
                        <p style="margin-bottom: 10px;">Confira seus dados:</p>
                        <div style="text-align: left;">
                            <p><strong>Nome:</strong> <span id="nome-cliente-encontrado"></span></p>
                            <p><strong>Cidade:</strong> <span id="cidade-cliente-encontrado"></span></p>
                            <p><strong>Bairro:</strong> <span id="bairro-cliente-encontrado"></span></p>
                        </div>
                        <button onclick="confirmarJaCadastrado()" class="btn" style="background-color: var(--cor-whatsapp); margin-top: 15px;">
                            <i class="fab fa-whatsapp" style="margin-right: 8px;"></i> Confirmar e Participar
                        </button>
                    </div>
                    
                    <div id="cadastro-novo" class="card" style="display: none;">
                        <h2>üìù Novo Cadastro</h2>
                        <p style="margin-bottom: 15px; color: #D32F2F;">N√£o encontramos seu n√∫mero. Preencha seus dados:</p>
                        <form onsubmit="event.preventDefault(); enviarNovoCadastro();">
                            <label>Nome Completo: <span style="color:red">*</span></label>
                            <input type="text" id="novo-nome" placeholder="Seu nome" required>
                            <label>Telefone: <span style="color:red">*</span></label>
                            <input type="tel" id="novo-telefone" placeholder="(65) 9..." required disabled> 
                            <label>Cidade: <span style="color:red">*</span></label>
                            <select id="novo-cidade" required>
                                <option value="">Selecione...</option>
                                <option value="Cuiab√°">Cuiab√°</option>
                                <option value="V√°rzea Grande">V√°rzea Grande</option>
                            </select>
                            <label>Bairro: <span style="color:red">*</span></label>
                            <input type="text" id="novo-bairro" placeholder="Seu bairro" required>
                            <button type="submit" class="btn"><i class="fab fa-whatsapp" style="margin-right: 8px;"></i> Cadastrar e Participar</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="seo-text-block" style="text-align: center; font-size: 12px; color: #888; padding: 15px 30px;">
            <p><strong>Cesta B√°sica Dona Ant√¥nia</strong> - A melhor op√ß√£o em alimentos para sua fam√≠lia.</p>
        </div>
    </div>

    <!-- MODAL DE ESCOLHA -->
    <div id="modalVariacao" class="modal-variacao" onclick="if(event.target === this) fecharModalVariacao()">
        <div class="modal-variacao-content">
            <button class="btn-fechar-modal-var" onclick="fecharModalVariacao()">&times;</button>
            <h3 class="titulo-modal-var" id="tituloCestaModal">Cesta X</h3>
            <p class="subtitulo-modal-var">Escolha a marca do arroz para continuar:</p>
            <div class="opcao-select" id="optAlvino" onclick="selecionarOpcao('alvino')">
                <div class="opcao-info"><span class="opcao-nome">Arroz Tio Alvino</span><span class="opcao-preco" id="precoAlvinoDisplay">R$ 0,00</span></div>
                <div class="radio-custom"></div>
            </div>
            <div class="opcao-select" id="optKoblenz" onclick="selecionarOpcao('koblenz')">
                <div class="opcao-info"><span class="opcao-nome">Arroz Koblenz</span><span class="opcao-preco" id="precoKoblenzDisplay">R$ 0,00</span></div>
                <div class="radio-custom"></div>
            </div>
            <button class="btn-confirmar-pedido" id="btnConfirmarPedido" onclick="confirmarAcao()" disabled>
                <i class="fab fa-whatsapp"></i> Enviar Pedido
            </button>
        </div>
    </div>

    <!-- NOVO MODAL: INFORMA√á√ïES (3 ABAS) -->
    <div id="modalInformacoes" class="modal-variacao" onclick="if(event.target === this) fecharModalInfo()">
        <div class="modal-info-content">
            <!-- Header Modal -->
            <div class="modal-info-header">
                <h3 id="tituloModalInfo">Informa√ß√µes</h3>
                <button class="btn-fechar-modal-info" onclick="fecharModalInfo()">&times;</button>
            </div>
            
            <!-- Abas -->
            <div class="tabs">
                <button class="tab-btn active" onclick="mudarAba('produtos')">Produtos</button>
                <button class="tab-btn" onclick="mudarAba('pagamento')">Pagamento</button>
                <button class="tab-btn" onclick="mudarAba('entrega')">Entrega</button>
            </div>

            <!-- Conte√∫do Abas -->
            <div id="aba-produtos" class="tab-content-area tab-pane active">
                <ul class="lista-produtos-modal" id="listaProdutosContent">
                    <!-- Preenchido via JS -->
                </ul>
            </div>

            <div id="aba-pagamento" class="tab-content-area tab-pane">
                <div id="conteudoPagamentoModal">
                    <!-- Ser√° copiado do site principal -->
                </div>
                <p style="color: red; font-size: 14px; text-align: center; margin-top: 20px;"><strong>‚ö†Ô∏è Aten√ß√£o:</strong> N√£o vendemos a prazo.</p>
            </div>

            <div id="aba-entrega" class="tab-content-area tab-pane">
                <h4 style="color: var(--cor-whatsapp); margin-top:0;">üöö Entrega Gr√°tis</h4>
                <p>Entregamos em <strong>Cuiab√°</strong> e <strong>V√°rzea Grande</strong> (√°rea urbana).</p>
                <hr style="border:0; border-top:1px dashed #eee; margin: 15px 0;">
                <p><i class="fas fa-clock" style="color:#666; margin-right:5px;"></i> <strong>Hor√°rios:</strong></p>
                <p>As entregas s√£o realizadas por rota.</p>
                <p style="background-color: #e8f5e9; padding: 10px; border-radius: 6px; margin-top: 10px;">
                    Encomende at√© as <strong>10h da manh√£</strong> para receber no mesmo dia!
                </p>
            </div>
        </div>
    </div>

    <!-- POPUP RECEPTIVO -->
    <div id="modalReceptivo" onclick="if(event.target === this) fecharModalReceptivo()" class="modal-variacao">
        <div class="modal-receptivo-content">
            <div class="modal-logo-receptivo">
                 <img src="img/logo1.png" alt="Logo Dona Ant√¥nia" onerror="this.src='https://placehold.co/80x80/808080/ffffff?text=D.A'">
            </div>
            <div id="etapa1" class="etapa-modal ativa">
                <h3 class="titulo-receptivo">BEM-VINDO! üëã</h3>
                <p class="subtitulo-receptivo">Entregamos em Cuiab√° e V√°rzea Grande.</p>
                <button class="btn-receptivo btn-ver-cestas" onclick="mudarEtapaPopup()">
                    <i class="fas fa-box" style="margin-right: 8px;"></i> Ver as Cestas
                </button>
                <button onclick="fecharModalReceptivo()" style="background: none; border: none; color: #999; margin-top: 10px; font-size: 14px; cursor: pointer;">
                    Prefiro continuar navegando
                </button>
            </div>
            <div id="etapa2" class="etapa-modal">
                <i class="fas fa-gift" style="font-size: 50px; color: var(--cor-whatsapp); margin-bottom: 15px;"></i>
                <h3 class="titulo-receptivo" style="color: var(--cor-whatsapp);">üéâ Brinde!</h3>
                <p class="subtitulo-receptivo">Na sua primeira compra, vamos te dar um Amaciante Yp√™ de 2 Litros de Brinde!</p>
                <button class="btn-receptivo btn-eu-quero" onclick="confirmarBrindeEFecar()">
                    <i class="fas fa-arrow-down" style="margin-right: 8px;"></i> EU QUERO!
                </button>
                <button onclick="fecharModalReceptivo()" style="background: none; border: none; color: #999; margin-top: 10px; font-size: 14px; cursor: pointer;">
                    Prefiro continuar navegando
                </button>
            </div>
        </div>
    </div>

    <!-- MODAL DE CONTATOS -->
    <div id="modalContatos" class="modal-variacao" onclick="if(event.target === this) fecharModalContatos()">
        <div class="modal-variacao-content">
            <button class="btn-fechar-modal-var" onclick="fecharModalContatos()">&times;</button>
            <h3 style="color: var(--cor-primaria); margin-bottom: 5px;">Fale Conosco</h3>
            <p style="margin-bottom: 20px; font-size: 14px; color: #666;">Escolha como prefere ser atendido:</p>
            
            <div class="lista-botoes-contato">
                <!-- Adicionado rel="noopener noreferrer" em todos os links externos para evitar bloqueio -->
                <a href="https://wa.me/5565998150975" class="btn-contato-modal bg-whatsapp" target="_blank" rel="noopener noreferrer"><i class="fab fa-whatsapp"></i> Falar no WhatsApp</a>
                
                <a href="tel:+5565998150975" class="btn-contato-modal bg-ligar"><i class="fas fa-phone"></i> Ligar: (65) 99815-0975</a>
                <a href="tel:+5565900000000" class="btn-contato-modal bg-ligar"><i class="fas fa-phone-alt"></i> Ligar: (65) 90000-0000</a>
                
                <a href="https://t.me/+5565998150975" class="btn-contato-modal bg-telegram" target="_blank" rel="noopener noreferrer"><i class="fab fa-telegram-plane"></i> Falar no Telegram</a>
                <a href="https://instagram.com/super.cestas.dona.antonia/" class="btn-contato-modal bg-instagram" target="_blank" rel="noopener noreferrer"><i class="fab fa-instagram"></i> Ver Instagram</a>
                
                <!-- CORRE√á√ÉO FACEBOOK: Adicionado www. e rel="noopener noreferrer" -->
                <a href="https://www.facebook.com/donaantonia" class="btn-contato-modal bg-facebook" target="_blank" rel="noopener noreferrer"><i class="fab fa-facebook-f"></i> Ver Facebook</a>
                
                <button onclick="instalarPWA(); fecharModalContatos();" class="btn-contato-modal btn-destaque-app" style="border:none; width:100%; cursor:pointer;"><i class="fas fa-mobile-alt"></i> Baixar o Aplicativo</button>
            </div>
        </div>
    </div>
    
    <script>
        var clientes = [];
    </script>
    <script src="data/clientes.js" onerror="console.warn('Arquivo data/clientes.js n√£o encontrado.')"></script>

    <script>
        const LOGO_ESTATICA_SRC = 'img/logo1.png';
        const LOGO_ANIMADA_SRC = 'img/logo2.gif';
        const LOGO_ELEMENT_ID = 'logo-principal';
        const INTERVALO_LOOP_MS = 50000; 
        const TELEFONE = "5565998150975"; 
        
        let deferredPrompt; 
        let dadosCestaAtual = { nome: '', precoAlvino: '', precoKoblenz: '' };
        let opcaoEscolhida = ''; 
        
        // --- DADOS DOS PRODUTOS (ATUALIZADOS CONFORME IMAGENS) ---
        const listasCestas = {
            'economica': [
                "<span class='section-title'>Alimentos:</span>",
                "1 Arroz de 5kg", "1 A√ß√∫car Cristal de 2kg", "1 √ìleo de Soja de 900ml", "1 Feij√£o Dona D√™ de 1kg",
                "1 Caf√© 250g", "1 Espaguete de 400g", "1 Trigo de 1kg", "1 Farinha de Mandioca de 1kg",
                "1 Sal de 1kg", "1 Molho Tomate 300g", "1 Milho Lata ou sach√™ de 250g", "1 Bolacha Recheada",
                "1 Miojo Apti", "1 Suco P√≥"
            ],
            'mini': [
                "<span class='section-title'>Alimentos:</span>",
                "1 Arroz de 5kg", "1 A√ß√∫car Cristal de 2kg", "2 √ìleo de Soja de 900ml", "2 Feij√£o Da Casa de 1kg",
                "1 Caf√© Caboclo de 250g", "1 Espaguete de 500g", "1 Sal de 1kg", "1 Molho Tomate FUGINI",
                "1 Milho Lata de 250g", "1 Bolacha Recheada My Bit", "1 Miojo Apti", "2 Suco P√≥",
                "<span class='section-title'>Limpeza e Higiene:</span>",
                "1 Sab√£o Barra YPE c/ 5 un", "1 Creme Dental Sorriso 70g", "1 Papel Higi√™nico c/ 4un",
                "1 Amaciante Ype de 2 Litros", "1 Desinfetante Remmus 2 L", "1 Sab√£o P√≥ OMO 800g",
                "1 Detergente Ype de 500ml", "1 Qboa de 1 Litro", "2 Sabonete Palmolive 90g",
                "1 Esponja de A√ßo Assolan", "1 Esponja de Lavar Lou√ßa"
            ],
            'pequena': [
                "<span class='section-title'>Alimentos:</span>",
                "2 Arroz de 5kg", "1 A√ß√∫car Cristal de 2kg", "2 √ìleo de Soja de 900ml", "2 Feij√£o Da Casa de 1kg",
                "1 Caf√© Caboclo de 250g", "12 Ovos", "1 Mistura para Bolo 400g", "1 Espaguete de 500g",
                "1 Trigo de 1kg", "1 Sal de 1kg", "1 Molho Tomate Fugini", "1 Milho Lata de 250g",
                "1 Tempero Pronto de 300g", "2 Bolacha Recheada My Bit", "2 Miojo Yolle", "2 Suco P√≥",
                "<span class='section-title'>Limpeza e Higiene:</span>",
                "1 Sab√£o Barra YPE c/ 5 un", "1 Creme Dental Sorriso 70g", "1 Papel Higi√™nico c/ 4un",
                "1 Amaciante Ype de 2 Litros", "1 Desinfetante Remmus 2 L", "1 Sab√£o P√≥ OMO 800g",
                "2 Detergente Ype de 500ml", "1 Qboa de 1 Litro", "2 Sabonete Palmolive 90g",
                "1 Esponja de A√ßo Assolan", "1 Bucha de lavar lou√ßa"
            ],
            'media': [
                "<span class='section-title'>Alimentos:</span>",
                "3 Arroz de 5kg", "2 A√ß√∫car Cristal de 2kg", "3 √ìleo de Soja de 900ml", "3 Feij√£o Da Casa de 1kg",
                "1 Caf√© Caboclo 500g", "12 Ovos", "1 Mistura para Bolo 400g", "2 Espaguete de 500g",
                "1 Trigo de 1kg", "1 Sal de 1kg", "2 Molho Tomate FUGINI 340g", "1 Milho Lata/sach√™ de 250g",
                "1 Tempero Pronto de 300g", "2 Bolacha Recheada My Bit", "2 Miojo Apti", "3 Suco P√≥",
                "<span class='section-title'>Limpeza e Higiene:</span>",
                "1 Sab√£o Barra YPE c/ 5 un", "2 Creme Dental Sorriso 70g", "2 Papel Higi√™nico c/ 4un",
                "1 Amaciante Ype de 2 Litros", "1 Desinfetante Remmus 2 L", "1 Sab√£o P√≥ OMO 800g",
                "2 Detergente Ype de 500ml", "1 Qboa de 1 Litro", "3 Sabonete Palmolive 90g",
                "1 Esponja de A√ßo Assolan", "1 Esponja de Lavar Lou√ßa"
            ],
            'grande': [
                "<span class='section-title'>Alimentos:</span>",
                "4 Arroz de 5kg", "3 A√ß√∫car Cristal de 2kg", "4 √ìleo de Soja de 900ml", "4 Feij√£o Da Casa de 1kg",
                "1 Caf√© Caboclo 500g", "3 Espaguetes de 500g", "12 Ovos", "1 Mistura para Bolo 400g",
                "1 Trigo de 1kg", "1 Sal de 1kg", "2 Molho Tomate FUGINI 340g", "1 Milho Lata ou sach√™ de 250g",
                "1 Tempero Pronto de 300g", "2 Bolacha Recheada My Bit", "2 Miojo Apti", "4 Suco P√≥",
                "<span class='section-title'>Limpeza e Higiene:</span>",
                "1 Sab√£o Barra YPE c/ 5 un", "2 Creme Dental Sorriso 70g", "2 Papel Higi√™nico c/ 4un",
                "1 Amaciante Ype de 2 Litros", "1 Desinfetante Remmus 2 L", "1 Sab√£o P√≥ OMO 800g",
                "2 Detergente Ype de 500ml", "1 Qboa de 1 Litro", "4 Sabonete Palmolive 90g",
                "1 Esponja de A√ßo Assolan", "1 Esponja de Lavar Lou√ßa"
            ]
        };

        function iniciarLoopLogoAnimada() {
            const logo = document.getElementById(LOGO_ELEMENT_ID);
            if (!logo) return;
            const alternarLogo = () => { logo.src = LOGO_ANIMADA_SRC + `?t=${new Date().getTime()}`; };
            setInterval(alternarLogo, INTERVALO_LOOP_MS);
            alternarLogo();
        }

        // --- FUN√á√ïES POPUP ---
        const MODAL_RECEPTIVO_KEY = 'donaAntoniaVisitou';
        function iniciarPopupReceptivo() { document.getElementById('modalReceptivo').style.display = 'flex'; }
        function fecharModalReceptivo() {
            document.getElementById('modalReceptivo').style.display = 'none';
            localStorage.setItem(MODAL_RECEPTIVO_KEY, 'sim');
            document.getElementById('pag-cestas').scrollIntoView({ behavior: 'smooth' });
        }
        function mudarEtapaPopup() {
            document.getElementById('etapa1').classList.remove('ativa');
            document.getElementById('etapa2').classList.add('ativa');
        }
        function confirmarBrindeEFecar() { fecharModalReceptivo(); }

        // --- FUN√á√ïES MODAL INFORMA√á√ïES (NOVO) ---
        function abrirModalInfo(cestaTipo) {
            // 1. Popula Produtos
            const listaEl = document.getElementById('listaProdutosContent');
            listaEl.innerHTML = ''; // Limpa
            
            const itens = listasCestas[cestaTipo] || ["Lista de produtos n√£o dispon√≠vel."];
            itens.forEach(item => {
                const li = document.createElement('li');
                // Se o item cont√©m a classe section-title, n√£o p√µe √≠cone
                if(item.includes('section-title')) {
                    li.innerHTML = item;
                    li.style.borderBottom = "none"; // Remove borda do t√≠tulo
                } else {
                    li.innerHTML = `<i class="fas fa-check"></i> ${item}`;
                }
                listaEl.appendChild(li);
            });

            // 2. Popula Pagamento (Clona da p√°gina principal)
            const pagOrigem = document.getElementById('lista-pagamento-original');
            const pagDestino = document.getElementById('conteudoPagamentoModal');
            if(pagOrigem) {
                pagDestino.innerHTML = '';
                pagDestino.appendChild(pagOrigem.cloneNode(true));
            }

            // 3. Define T√≠tulo
            const nomes = {'economica': 'Cesta Econ√¥mica', 'mini': 'Cesta Mini', 'pequena': 'Cesta Pequena', 'media': 'Cesta M√©dia', 'grande': 'Cesta Grande'};
            document.getElementById('tituloModalInfo').innerText = nomes[cestaTipo] || 'Informa√ß√µes';

            // 4. Reseta para aba produtos
            mudarAba('produtos');

            // 5. Abre
            document.getElementById('modalInformacoes').style.display = 'flex';
        }

        function fecharModalInfo() { document.getElementById('modalInformacoes').style.display = 'none'; }

        function mudarAba(abaNome) {
            // Remove active de todos os bot√µes e panes
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.tab-pane').forEach(p => p.classList.remove('active'));
            
            // Ativa o correto
            const btns = document.querySelectorAll('.tab-btn');
            if(abaNome === 'produtos') btns[0].classList.add('active');
            if(abaNome === 'pagamento') btns[1].classList.add('active');
            if(abaNome === 'entrega') btns[2].classList.add('active');

            document.getElementById('aba-' + abaNome).classList.add('active');
        }

        // --- FUN√á√ïES MODAL CONTATOS ---
        function abrirModalContatos() { document.getElementById('modalContatos').style.display = 'flex'; }
        function fecharModalContatos() { document.getElementById('modalContatos').style.display = 'none'; }

        // --- PWA ---
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./service-worker.js').catch(err => console.log('SW falhou', err));
            });
        }
        window.addEventListener('beforeinstallprompt', (e) => { e.preventDefault(); deferredPrompt = e; });
        function instalarPWA() {
            // 1. Detectar iOS
            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
            
            // 2. Se for iOS, mostra instru√ß√µes manuais (j√° que o prompt n√£o existe)
            if (isIOS) {
                mostrarMensagemToast("Para instalar no iPhone: Toque no bot√£o 'Compartilhar' abaixo e depois em 'Adicionar √† Tela de In√≠cio'.", "info");
                return;
            }

            // 3. Tenta o fluxo padr√£o (Android/Desktop)
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') { 
                        deferredPrompt = null; 
                        mostrarMensagemToast("Instalado com sucesso!", "success"); 
                    }
                });
            } else { 
                // 4. Fallback se n√£o houver prompt (j√° instalado ou n√£o suportado)
                mostrarMensagemToast("Para instalar, abra o menu do navegador e escolha 'Adicionar √† tela inicial' ou 'Instalar aplicativo'.", "info"); 
            }
        }

        // --- FUN√á√ïES PRODUTO ---
        function encomendarDireto(produto, preco, incluirBrinde = true) { 
            let brindeTexto = incluirBrinde ? ". Com Amaciante Yp√™ de 2L de brinde." : ".";
            const textoZap = `Ol√°, quero encomendar a *${produto}* (Valor: R$ ${preco})${brindeTexto}`;
            window.open(`https://wa.me/${TELEFONE}?text=${encodeURIComponent(textoZap)}`, '_blank'); 
        }
        
        function abrirModalVariacao(nome, pAlvino, pKoblenz) { 
            dadosCestaAtual = { nome, precoAlvino: pAlvino, precoKoblenz: pKoblenz };
            opcaoEscolhida = '';
            document.getElementById('tituloCestaModal').innerText = nome;
            document.getElementById('precoAlvinoDisplay').innerText = 'R$ ' + pAlvino;
            document.getElementById('precoKoblenzDisplay').innerText = 'R$ ' + pKoblenz;
            document.getElementById('optAlvino').classList.remove('selected');
            document.getElementById('optKoblenz').classList.remove('selected');
            document.getElementById('btnConfirmarPedido').disabled = true;
            document.getElementById('modalVariacao').style.display = 'flex';
        }

        function selecionarOpcao(tipo) {
            opcaoEscolhida = tipo;
            document.getElementById('optAlvino').classList.remove('selected');
            document.getElementById('optKoblenz').classList.remove('selected');
            if(tipo === 'alvino') { document.getElementById('optAlvino').classList.add('selected'); } 
            else { document.getElementById('optKoblenz').classList.add('selected'); }
            document.getElementById('btnConfirmarPedido').disabled = false;
        }

        function confirmarAcao() {
            if(!opcaoEscolhida) return;
            let marca = opcaoEscolhida === 'alvino' ? 'Arroz Tio Alvino' : 'Arroz Koblenz';
            let preco = opcaoEscolhida === 'alvino' ? dadosCestaAtual.precoAlvino : dadosCestaAtual.precoKoblenz;
            let textoZap = `Ol√°, quero encomendar a *${dadosCestaAtual.nome}* com *${marca}* (Valor: R$ ${preco}). Com Amaciante Yp√™ de 2L de brinde.`;
            window.open(`https://wa.me/${TELEFONE}?text=${encodeURIComponent(textoZap)}`, '_blank');
            fecharModalVariacao();
        }

        function fecharModalVariacao() { document.getElementById('modalVariacao').style.display = 'none'; }
        
        // --- SORTEIO ---
        const cadastroEncontradoDiv = document.getElementById('cadastro-encontrado');
        const cadastroNovoDiv = document.getElementById('cadastro-novo');
        const buscaTelefoneInput = document.getElementById('busca-telefone');
        
        // Substituindo a antiga mostrarMensagemBusca pela nova Toast
        function mostrarMensagemToast(msg, type = "info") {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            
            // Define a classe base e a de tipo
            let typeClass = "toast-info";
            if(type === "success") typeClass = "toast-success";
            if(type === "error") typeClass = "toast-error";
            
            toast.className = `toast-message ${typeClass}`;
            toast.innerText = msg;
            
            container.appendChild(toast);
            
            // Anima√ß√£o de entrada
            setTimeout(() => { toast.classList.add('show'); }, 10);
            
            // Remove ap√≥s 4 segundos
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => { toast.remove(); }, 300);
            }, 4000);
        }
        
        // Mantendo a compatibilidade com chamadas antigas, redirecionando para Toast
        function mostrarMensagemBusca(msg, isError = true) {
            mostrarMensagemToast(msg, isError ? "error" : "success");
        }
        
        function buscarCadastro() {
            cadastroEncontradoDiv.style.display = 'none';
            cadastroNovoDiv.style.display = 'none';
            const inputTel = buscaTelefoneInput.value.replace(/\D/g, ''); 
            
            if (inputTel.length < 6) { mostrarMensagemBusca("Digite seu telefone completo.", true); return; }

            const btn = document.querySelector('#area-busca-telefone .btn');
            const txtOriginal = btn.innerHTML;
            btn.innerHTML = 'Buscando...'; btn.disabled = true;

            setTimeout(() => {
                btn.innerHTML = txtOriginal; btn.disabled = false;
                let cliente = null;
                if(typeof clientes !== 'undefined') cliente = clientes.find(c => c.telefone.replace(/\D/g, '').endsWith(inputTel.slice(-6)));
                
                if (cliente) {
                    document.getElementById('nome-cliente-encontrado').innerText = cliente.nome;
                    document.getElementById('cidade-cliente-encontrado').innerText = cliente.cidade;
                    document.getElementById('bairro-cliente-encontrado').innerText = cliente.bairro;
                    buscaTelefoneInput.setAttribute('data-nome', cliente.nome);
                    buscaTelefoneInput.setAttribute('data-cidade', cliente.cidade);
                    buscaTelefoneInput.setAttribute('data-bairro', cliente.bairro);
                    cadastroEncontradoDiv.style.display = 'block';
                } else {
                    document.getElementById('novo-telefone').value = buscaTelefoneInput.value; 
                    cadastroNovoDiv.style.display = 'block';
                }
            }, 600); 
        }

        function enviarNovoCadastro() {
            const nome = document.getElementById('novo-nome').value.trim();
            const tel = document.getElementById('novo-telefone').value.trim(); 
            const cid = document.getElementById('novo-cidade').value;
            const bai = document.getElementById('novo-bairro').value.trim();
            if (!nome || !tel) return;
            window.open(`https://wa.me/${TELEFONE}?text=${encodeURIComponent(`CADASTRO SORTEIO:\nNome: ${nome}\nTel: ${tel}\nCidade: ${cid}\nBairro: ${bai}`)}`, '_blank');
        }

        function confirmarJaCadastrado() {
            const tel = buscaTelefoneInput.value;
            const nome = buscaTelefoneInput.getAttribute('data-nome') || "Cliente";
            const cid = buscaTelefoneInput.getAttribute('data-cidade') || "";
            const bai = buscaTelefoneInput.getAttribute('data-bairro') || "";
            window.open(`https://wa.me/${TELEFONE}?text=${encodeURIComponent(`J√Å SOU CADASTRADO:\nNome: ${nome}\nTel: ${tel}\nCidade: ${cid}\nBairro: ${bai}`)}`, '_blank');
        }

        window.onload = function() {
            iniciarPopupReceptivo(); 
            iniciarLoopLogoAnimada(); 
        };
    </script>
</body>
</html>
