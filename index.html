<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- === SEO LOCAL & GERAL START === -->
    <title>Cesta B√°sica em Cuiab√° e V√°rzea Grande | Dona Ant√¥nia</title>
    <meta name="description" content="Cestas B√°sicas com entrega gr√°tis em Cuiab√° e V√°rzea Grande. A partir de R$ 85,00. Produtos de qualidade (Arroz Tio Alvino), pre√ßo justo e sorteios semanais.">
    <meta name="keywords" content="cesta b√°sica cuiab√°, cesta b√°sica v√°rzea grande, comprar alimentos online, supermercado delivery cuiab√°, arroz tio alvino, dona ant√¥nia cestas, sacol√£o cuiab√°">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://donaantonia.com.br/">
    <meta name="author" content="Dona Ant√¥nia Cestas">
    
    <!-- Geo Tags -->
    <meta name="geo.region" content="BR-MT">
    <meta name="geo.placename" content="Cuiab√°">
    <meta name="geo.position" content="-15.6014;-56.0979">
    <meta name="ICBM" content="-15.6014, -56.0979">
    
    <!-- Open Graph -->
    <meta property="og:locale" content="pt_BR">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Cestas B√°sicas Dona Ant√¥nia: Qualidade e Pre√ßo Justo">
    <meta property="og:description" content="Entregamos em toda Cuiab√° e V√°rzea Grande. Confira nossos pre√ßos e participe dos sorteios!">
    <meta property="og:image" content="https://placehold.co/1200x630?text=Cestas+Dona+Antonia">
    <meta property="og:image:alt" content="Cestas B√°sicas Dona Ant√¥nia em Cuiab√°">
    <meta property="og:url" content="https://donaantonia.com.br/">
    <meta property="og:site_name" content="Dona Ant√¥nia Cestas B√°sicas">
    
    <!-- PWA & Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#0F2546"> 
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- √çcones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* === ESTILOS GLOBAIS === */
        * { box-sizing: border-box; }

        :root {
            /* --- PALETA DE CORES DA LOGO --- */
            --cor-primaria: #0F2546; /* Azul Marinho Profundo */
            --cor-destaque-vermelho: #D92328; /* Vermelho do Cora√ß√£o */
            --cor-destaque-dourado: #FFC107; /* Dourado */
            
            /* Cores Funcionais */
            --cor-whatsapp: #25D366;
            --cor-telegram: #0088cc;
            --cor-facebook: #1877F2; 
            --cor-info: #1E88E5; 
            --cor-texto: #333; /* Texto suavizado */
            --cor-fundo: #fafafa;
            --cor-pagamento: #2196F3; 
            --cor-sorteio: #4CAF50; 
            --cor-entrega: #FF9800;
            --cor-header-fundo: #f5f5f5;
            --altura-header: 80px; /* Reduzido levemente */
            --largura-logo: 100px; /* Logo um pouco menor */
            --altura-bottom-nav: 55px; 
        }

        html { 
            background-color: #e0e0e0; 
            scroll-behavior: smooth;
            scroll-padding-top: calc(var(--altura-header) + 5px); 
            font-size: 14.5px; /* Reduzido de 16px para 14.5px (Base menor) */
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #e0e0e0; 
            color: var(--cor-texto);
            margin: 0; 
            padding: 0;
            padding-top: calc(var(--altura-header) + 5px); 
            padding-bottom: calc(var(--altura-bottom-nav) + 20px); 
            min-height: 10vh;
            position: relative; 
            width: 100%;
            line-height: 1.4; 
            -webkit-font-smoothing: antialiased;
        }

        .main-content-wrapper {
            max-width: 480px; 
            margin: 0 auto; 
            background-color: var(--cor-fundo); 
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            transition: max-width 0.3s ease; 
        }

        /* --- TOAST NOTIFICATION --- */
        #toast-container {
            position: fixed;
            bottom: 80px; 
            left: 50%;
            transform: translateX(-50%);
            z-index: 6000;
            width: 90%;
            max-width: 400px;
            text-align: center;
            pointer-events: none; 
        }
        .toast-message {
            background-color: #333;
            color: white;
            padding: 10px 18px;
            border-radius: 6px;
            margin-bottom: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            font-size: 0.85rem;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s, transform 0.3s;
            pointer-events: auto;
        }
        .toast-message.show { opacity: 1; transform: translateY(0); }
        .toast-success { background-color: var(--cor-whatsapp); }
        .toast-error { background-color: var(--cor-destaque-vermelho); }
        .toast-info { background-color: #333; }

        /* --- CABE√áALHO --- */
        header {
            background-color: white;
            height: var(--altura-header);
            padding: 0;
            display: flex;
            flex-direction: row; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            position: fixed;
            top: 0;
            left: 50%; 
            transform: translateX(-50%); 
            width: 100%;
            max-width: 480px; 
            z-index: 1000;
            transition: max-width 0.3s ease;
        }

        .header-background-bar {
            position: absolute;
            top: 0;
            left: 50%; 
            transform: translateX(-50%);
            width: 100%;
            max-width: 480px; 
            height: var(--altura-header);
            background-color: var(--cor-header-fundo);
            z-index: 999;
            transition: max-width 0.3s ease;
        }
        
        .header-top {
            display: flex;
            justify-content: flex-end; 
            align-items: center;
            width: 100%;
            height: 100%;
            padding: 5px 15px;
            position: relative;
            z-index: 1002;
        }

        .logo-pequ { 
            height: var(--largura-logo);
            width: var(--largura-logo); 
            object-fit: cover; 
            border-radius: 50%; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.15); 
            position: fixed;
            top: 5px; 
            left: 15px; 
            margin-left: 0;
            z-index: 2000; 
            background-color: white;
            padding: 2px;
            transition: all 0.3s ease;
        }

        /* Bot√£o Pulsante do Header */
        .btn-contato-principal {
            display: flex;
            flex-direction: column; 
            align-items: center;    
            justify-content: center;
            background-color: #FFFde7; 
            color: #333;
            border: 2px solid var(--cor-destaque-dourado); 
            border-radius: 6px;
            padding: 5px 10px; /* Reduzido padding */
            cursor: pointer;
            text-decoration: none;
            box-shadow: 0 3px 5px rgba(0,0,0,0.08);
            margin-left: auto;
            text-align: center;
            max-width: calc(100% - var(--largura-logo) - 10px);
            animation: animacao-pulsar 2s infinite;
        }

        .btn-contato-principal:active { transform: scale(0.95); animation: none; }

        @keyframes animacao-pulsar {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 193, 7, 0.7); }
            70% { transform: scale(1.02); box-shadow: 0 0 0 6px rgba(255, 193, 7, 0); } 
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 193, 7, 0); }
        }

        .linha-destaque-vermelho {
            color: var(--cor-destaque-vermelho); 
            font-weight: 800;
            font-size: 0.75rem; /* Menor e mais delicado */
            text-transform: uppercase;
            letter-spacing: 0.3px;
            margin-bottom: 2px;
            line-height: 1.1;
        }

        .linha-localizacao {
            color: #555;
            font-weight: 600;
            font-size: 0.65rem; 
        }

        @media (max-width: 380px) {
            :root { --largura-logo: 85px; --altura-header: 75px; }
            .logo-pequ { left: 10px; }
            .linha-destaque-vermelho { font-size: 0.7rem; }
        }

        /* --- BARRA DE CONFIAN√áA (NOVO) --- */
        .trust-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #E3F2FD; /* Azul muito suave */
            border: 1px solid #BBDEFB;
            border-radius: 8px;
            padding: 10px 5px;
            margin-bottom: 15px;
        }
        
        .trust-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 0.7rem;
            color: var(--cor-primaria);
            font-weight: 600;
            line-height: 1.2;
            padding: 0 2px;
        }
        
        .trust-item i {
            font-size: 1rem;
            color: var(--cor-destaque-vermelho);
            margin-bottom: 4px;
        }
        
        .trust-divider {
            width: 1px;
            height: 25px;
            background-color: #BBDEFB;
        }

        /* --- CARDS & TIPOGRAFIA OTIMIZADA --- */
        .secao-conteudo { padding: 15px; }
        
        .card { 
            background: white; 
            border-radius: 10px; 
            padding: 12px; 
            margin-bottom: 15px; 
            border: 1px solid #f0f0f0; 
            box-shadow: 0 2px 6px rgba(0,0,0,0.03); 
            height: 100%; 
            display: flex;
            flex-direction: column;
        }
        
        h2 { 
            color: var(--cor-primaria); 
            margin-top: 0; 
            font-size: 1.25rem; /* Menos exagerado */
            font-weight: 700;
            letter-spacing: -0.3px;
        }
        
        .card-cesta { padding: 0; overflow: hidden; border: 1px solid #eee; display: flex; flex-direction: column; }
        
        /* Header Card */
        .cesta-header { background-color: var(--cor-primaria); padding: 8px; text-align: center; color: white; }
        .cesta-header h3 { 
            margin: 0; 
            color: white; 
            font-size: 1rem; /* T√≠tulo Cesta mais discreto */
            font-weight: 600;
            text-transform: uppercase; 
            letter-spacing: 0.8px;
        }
        
        .cesta-body { padding: 10px; display: flex; flex-direction: column; flex-grow: 1; }

        .foto-cesta-unica { 
            width: 100%; 
            aspect-ratio: 1 / 0.8; 
            object-fit: cover; 
            display: block;
            border-radius: 6px;
            margin-bottom: 5px;
            background: #eee;
        }

        .lista-precos-cesta {
            background-color: #f8f9fa; border-radius: 6px; 
            padding: 6px 10px; 
            margin: 5px 0 8px 0; 
            border: 1px solid #e9ecef; margin-top: auto;
        }
        .item-preco { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2px; font-size: 0.9rem; color: #444; }
        .item-preco:last-child { margin-bottom: 0; }
        
        .item-preco strong { 
            color: var(--cor-destaque-vermelho); 
            font-size: 1.15rem; /* Pre√ßo um pouco menor */
            font-weight: 800;
        }

        /* --- BOT√ïES OTIMIZADOS --- */
        .botoes-wrapper { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            grid-template-rows: auto auto;
            grid-template-areas: 
                "hero hero"
                "info share";
            gap: 6px; /* Gap menor */
            margin-top: 0; 
        }
        
        .btn {
            display: flex; align-items: center; justify-content: center; width: 100%; padding: 10px; /* Padding menor */
            border: none; border-radius: 6px; cursor: pointer;
            text-decoration: none; color: white; box-shadow: 0 2px 4px rgba(0,0,0,0.1); 
            transition: transform 0.2s, filter 0.2s;
            font-family: inherit;
        }
        
        /* Bot√£o Hero */
        .btn-encomendar { 
            grid-area: hero;
            background-color: var(--cor-whatsapp); 
            font-size: 0.95rem; /* Fonte confort√°vel */
            font-weight: 700;
            text-transform: uppercase;
            padding: 12px;
            box-shadow: 0 3px 8px rgba(37, 211, 102, 0.25);
            margin-bottom: 2px;
            letter-spacing: 0.3px;
        }
        
        /* Bot√µes Secund√°rios */
        .btn-info { 
            grid-area: info;
            background-color: #E3F2FD; 
            color: #1565C0; 
            font-size: 0.85rem;
            font-weight: 600;
            border: 1px solid #BBDEFB;
            box-shadow: none;
        } 
        
        /* Bot√£o Share com Estilo Atualizado */
        .btn-share {
            grid-area: share;
            background-color: #E8F5E9; 
            color: #2E7D32; 
            font-size: 0.85rem;
            font-weight: 600;
            border: 1px solid #C8E6C9;
            box-shadow: none;
        }
        /* Ajuste do √≠cone no bot√£o share */
        .btn-share i { margin-right: 5px; font-size: 1rem; }

        .btn:active { transform: scale(0.97); }
        
        /* --- EXTRAS --- */
        .section-icon-header { text-align: center; margin-bottom: 15px; position: relative; z-index: 10; }
        .section-icon-header img {
            width: 50px; height: 50px; /* √çcones menores */
            object-fit: contain; background-color: var(--cor-primaria);
            border-radius: 50%; padding: 8px; box-shadow: 0 3px 8px rgba(0,0,0,0.2);
        }

        .lista-pagamento { list-style: none; padding: 0; }
        .lista-pagamento li { padding: 10px 0; border-bottom: 1px solid #eee; font-size: 0.95rem; display: flex; align-items: center; color: #444; }
        .lista-pagamento li span.emoji-icon { font-size: 1.2rem; width: 30px; text-align: center; margin-right: 8px; }

        .area-resultado-busca {
            background-color: #e8f5e9; border: 1px solid #a5d6a7; border-radius: 8px; padding: 12px; margin-top: 15px; text-align: center;
        }
        .area-resultado-busca h2 { color: #388e3c; font-size: 1.1rem; } 
        
        input, select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; margin-bottom: 10px; font-size: 0.95rem; }

        /* --- ESTILO NOVO CADASTRO --- */
        .cadastro-novo-style {
            background-color: #fff; 
            border: 2px solid #ffcc80; 
            border-radius: 10px;
            text-align: left; 
        }

        .titulo-novo-cadastro {
            color: #E65100;
            font-size: 1.1rem;
            margin-top: 0;
            margin-bottom: 5px;
            font-weight: 700;
        }

        .subtitulo-novo-cadastro {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 12px;
        }

        /* Bot√£o Inteligente */
        .btn-validacao {
            background-color: #ccc; 
            color: #666;
            cursor: not-allowed;
            transition: all 0.3s ease;
            transform: scale(0.98);
            opacity: 0.7;
            font-size: 0.9rem;
            text-transform: uppercase;
            font-weight: bold;
        }

        .btn-validacao.pronto {
            background-color: var(--cor-whatsapp); 
            color: white;
            cursor: pointer;
            transform: scale(1);
            opacity: 1;
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.4); 
            animation: pulsoBotao 1.5s infinite; 
        }
        
        /* --- MODAIS --- */
        .modal-variacao, #modalContatos, #modalInformacoes {
            display: none; position: fixed; z-index: 4000; left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.6); justify-content: center; align-items: center; backdrop-filter: blur(2px);
            padding: 20px;
        }
        #modalContatos { z-index: 4500; }
        #modalInformacoes { z-index: 4600; }

        .modal-info-content {
            background-color: white; width: 100%; max-width: 400px; border-radius: 12px; 
            overflow: hidden; display: flex; flex-direction: column; max-height: 90vh;
            box-shadow: 0 5px 25px rgba(0,0,0,0.3); animation: zoomIn 0.2s;
        }
        
        .modal-info-header {
            background-color: var(--cor-fundo); padding: 12px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #ddd;
            flex-shrink: 0;
        }
        .modal-info-header h3 { margin: 0; color: var(--cor-primaria); font-size: 1.1rem; margin-left: 10px; font-weight: 700;}
        .btn-fechar-modal-info { background: none; border: none; font-size: 1.4rem; color: #999; cursor: pointer; padding: 0 10px; }

        .modal-body-scroll {
            padding: 15px; overflow-y: auto;
            flex: 1; 
        }
        
        .lista-produtos-modal { list-style: none; padding: 0; margin: 0; }
        .lista-produtos-modal li { padding: 8px 0; border-bottom: 1px dashed #eee; font-size: 0.9rem; color: #444; display: flex; align-items: flex-start;}
        .lista-produtos-modal li:last-child { border-bottom: none; }
        .lista-produtos-modal li i { color: var(--cor-whatsapp); margin-right: 10px; font-size: 0.85rem; margin-top: 4px;}
        .section-title { font-weight: 800; color: var(--cor-primaria); margin-top: 15px; margin-bottom: 6px; font-size: 0.85rem; display: block; background: #ffebee; padding: 6px; border-radius: 4px; text-transform: uppercase;}

        @keyframes zoomIn { from { transform: scale(0.7); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        
        .modal-variacao-content {
            background-color: white; width: 100%; max-width: 340px; border-radius: 12px; padding: 15px;
            position: relative; text-align: center;
            max-height: 85vh; 
            overflow-y: auto;
            display: flex; flex-direction: column;
        }

        .btn-fechar-modal-var { 
            position: absolute; top: 10px; right: 10px; 
            background: rgba(255,255,255,0.9);
            border: none; font-size: 24px; color: #999; cursor: pointer; 
            z-index: 100;
            width: 30px; height: 30px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            line-height: 1;
        }

        .titulo-modal-var { margin-top: 10px; padding-right: 25px; font-size: 1.1rem; }
        
        .opcao-select {
            display: flex; align-items: center; justify-content: space-between; padding: 12px; border: 2px solid #eee; 
            border-radius: 8px; margin-bottom: 8px; cursor: pointer; text-align: left;
            flex-shrink: 0;
        }
        .opcao-select.selected { border-color: var(--cor-primaria); background-color: #E3F2FD; }
        .opcao-nome { font-weight: bold; color: #333; font-size: 0.95rem; }
        .opcao-preco { color: var(--cor-destaque-vermelho); font-weight: 800; font-size: 0.95rem; }
        .radio-custom { width: 18px; height: 18px; border: 2px solid #ccc; border-radius: 50%; position: relative; }
        .selected .radio-custom::after { content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 8px; height: 8px; background-color: var(--cor-primaria); border-radius: 50%; }
        .btn-confirmar-pedido { 
            width: 100%; padding: 12px; background-color: var(--cor-whatsapp); color: white; border: none; 
            border-radius: 8px; font-weight: bold; font-size: 0.95rem; margin-top: 10px; cursor: pointer; 
            display: flex; align-items: center; justify-content: center; gap: 8px; text-transform: uppercase;
            flex-shrink: 0;
        }
        .btn-confirmar-pedido:disabled { background-color: #ccc; cursor: not-allowed; }

        /* MODAL CONTATO OTIMIZADO */
        .btn-whatsapp-hero {
            background-color: var(--cor-whatsapp);
            color: white;
            font-size: 1rem;
            font-weight: bold;
            padding: 12px;
            border-radius: 10px;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.4);
            flex-direction: column;
            animation: pulsoBotao 2s infinite;
        }
        .btn-whatsapp-hero i { font-size: 1.8rem; margin-bottom: 6px; }
        .btn-whatsapp-hero span { font-size: 0.8rem; font-weight: normal; opacity: 0.9; }

        .modal-section-title {
            font-size: 0.8rem;
            color: #888;
            margin: 12px 0 8px;
            text-align: center;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
        }
        .modal-section-title::before, .modal-section-title::after {
            content: ""; position: absolute; top: 50%; width: 30%; height: 1px; background: #eee;
        }
        .modal-section-title::before { left: 0; }
        .modal-section-title::after { right: 0; }

        .grid-botoes-modal {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-bottom: 15px;
        }

        .btn-secundario-modal {
            background-color: #f9f9f9;
            color: #555;
            padding: 10px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #eee;
            font-weight: 600;
            transition: all 0.2s;
        }
        .btn-secundario-modal:active { background-color: #e0e0e0; transform: scale(0.98); }
        .btn-secundario-modal i { margin-right: 6px; color: var(--cor-primaria); }

        .social-buttons-row {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 8px;
            margin-bottom: 12px;
        }
        .btn-social-icon {
            width: 40px; height: 40px;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            color: white;
            text-decoration: none;
            font-size: 1.1rem;
            box-shadow: 0 3px 8px rgba(0,0,0,0.15);
            transition: transform 0.2s;
        }
        .btn-social-icon:active { transform: scale(0.9); }
        
        .btn-app-link {
            background: none; border: none; 
            color: #1976D2; font-weight: bold; font-size: 0.85rem; 
            margin-top: 10px; cursor: pointer; text-decoration: underline;
        }

        .bg-whatsapp { background-color: var(--cor-whatsapp); }
        .bg-telegram { background-color: var(--cor-telegram); }
        .bg-instagram { background: linear-gradient(45deg, #f09433, #dc2743, #bc1888); }
        .bg-facebook { background-color: var(--cor-facebook); }

        /* --- BARRA INFERIOR --- */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 480px; 
            height: var(--altura-bottom-nav);
            background-color: white;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 5000;
            border-top: 1px solid #eee;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 0.65rem; 
            text-decoration: none;
            width: 20%; 
            height: 100%;
            transition: color 0.2s;
        }

        .nav-item i {
            font-size: 1.1rem;
            margin-bottom: 3px;
        }

        .nav-item:active, .nav-item:hover {
            color: var(--cor-primaria);
            background-color: #f9f9f9;
        }

        /* --- RESPONSIVIDADE --- */
        @media (min-width: 481px) {
            .main-content-wrapper, header, .header-background-bar { max-width: 1100px; } /* Ajustado para 1100px */
            .bottom-nav { max-width: 1100px; }
            .secao-conteudo { padding: 20px 30px; }
            
            /* Ajuste de fontes para Desktop - Um pouco maiores que mobile, mas contidas */
            html { font-size: 15px; } 
            h2 { font-size: 1.5rem; }
            .cesta-header h3 { font-size: 1.15rem; }
        }
        @media (min-width: 940px) { .logo-pequ { left: 50%; margin-left: calc(-550px + 20px); } }
        @media (min-width: 768px) { 
            .cesta-cards-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; } 
        }

        @media (min-width: 1024px) {
            .main-content-wrapper, header, .header-background-bar { max-width: 1100px; } /* Ajustado para 1100px */
            .bottom-nav { max-width: 1100px; } 
            .logo-pequ { margin-left: calc(-550px + 20px); } 
            .cesta-cards-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
            .secoes-extras-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; padding: 0 15px; }
            .secoes-extras-grid .secao-conteudo { padding: 0; margin-bottom: 0; }
            .secoes-extras-grid .card { height: 100%; }
            .secoes-extras-grid .section-icon-header { margin-top: 15px; }
        }
    </style>
</head>
<body>
    
    <div id="toast-container"></div> 

    <div class="header-background-bar"></div>

    <!-- LOGO FIXA -->
    <img src="img/logo1.png" id="logo-principal" onerror="this.src='https://placehold.co/120x120?text=LOGO'" alt="Logo Dona Ant√¥nia" class="logo-pequ">

    <header>
        <div class="header-top">
            <button class="btn-contato-principal" onclick="abrirModalContatos()">
                <div class="linha-destaque-vermelho">
                    <i class="fas fa-save"></i> CLIQUE P/ SALVAR O CONTATO
                </div>
                <div class="linha-localizacao">
                    Somos de Cuiab√° e V√°rzea Grande
                </div>
            </button>
        </div>
    </header>

    <div class="main-content-wrapper">
        <div id="pag-cestas" class="secao-conteudo">
            
            <!-- BARRA DE CONFIAN√áA (TRUST BAR) -->
            <div class="trust-bar">
                <div class="trust-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Cuiab√° e<br>V√°rzea Grande</span>
                </div>
                <div class="trust-divider"></div>
                <div class="trust-item">
                    <i class="fas fa-hand-holding-usd"></i>
                    <span>Pague na<br>Entrega</span>
                </div>
                <div class="trust-divider"></div>
                <div class="trust-item">
                    <i class="fas fa-truck"></i>
                    <span>Entrega<br>Gr√°tis</span>
                </div>
            </div>

            <div class="cesta-cards-grid">
                <!-- CESTA ECON√îMICA -->
                <div class="card card-cesta" id="cestaeconomica">
                    <div class="cesta-header"><h3>Cesta Econ√¥mica</h3></div>
                    <div class="cesta-body">
                        <img src="img/cesta-economica1.jpg" class="foto-cesta-unica" alt="Cesta B√°sica Econ√¥mica" onerror="this.src='https://placehold.co/400x400?text=ECON√îMICA'">
                        <div class="lista-precos-cesta">
                            <div class="item-preco"><span>Com Arroz Tio Alvino:</span><strong>R$ 85,00</strong></div>
                        </div>
                        <div class="botoes-wrapper">
                            <button class="btn btn-encomendar" onclick="encomendarDireto('Cesta Econ√¥mica', '85,00', false)">
                                <i class="fab fa-whatsapp" style="margin-right: 8px;"></i> PEDIR NO WHATSAPP
                            </button>
                            <!-- BOT√ïES CORRIGIDOS: 50% CADA -->
                            <button class="btn btn-info" onclick="abrirModalInfo('economica')">
                                <i class="fas fa-list" style="margin-right: 5px;"></i> Ver Itens
                            </button>
                            <button class="btn btn-share" onclick="compartilharCesta('Cesta Econ√¥mica', '85,00')">
                                <i class="fab fa-whatsapp" style="margin-right: 5px;"></i> Enviar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- CESTA MINI -->
                <div class="card card-cesta" id="cestamini">
                    <div class="cesta-header"><h3>Cesta Mini</h3></div>
                    <div class="cesta-body">
                        <img src="img/cesta-mini1.jpg" class="foto-cesta-unica" alt="Cesta B√°sica Mini" onerror="this.src='https://placehold.co/400x400?text=MINI'">
                        <div class="lista-precos-cesta">
                            <div class="item-preco"><span>Com Arroz Tio Alvino:</span><strong>R$ 165,00</strong></div>
                            <div class="item-preco"><span>Com Arroz Koblenz:</span><strong>R$ 170,00</strong></div>
                        </div>
                        <div class="botoes-wrapper">
                            <button class="btn btn-encomendar" onclick="abrirModalVariacao('Cesta Mini', '165,00', '170,00')">
                                <i class="fab fa-whatsapp" style="margin-right: 8px;"></i> PEDIR NO WHATSAPP
                            </button>
                            <button class="btn btn-info" onclick="abrirModalInfo('mini')">
                                <i class="fas fa-list" style="margin-right: 5px;"></i> Ver Itens
                            </button>
                            <button class="btn btn-share" onclick="compartilharCesta('Cesta Mini', '165,00')">
                                <i class="fab fa-whatsapp" style="margin-right: 5px;"></i> Enviar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- CESTA PEQUENA -->
                <div class="card card-cesta" id="cestapequena">
                    <div class="cesta-header"><h3>Cesta Pequena</h3></div>
                    <div class="cesta-body">
                        <img src="img/cesta-pequena1.jpg" class="foto-cesta-unica" alt="Cesta B√°sica Pequena" onerror="this.src='https://placehold.co/400x400?text=PEQUENA'">
                        <div class="lista-precos-cesta">
                            <div class="item-preco"><span>Com Arroz Tio Alvino:</span><strong>R$ 215,00</strong></div>
                            <div class="item-preco"><span>Com Arroz Koblenz:</span><strong>R$ 220,00</strong></div>
                        </div>
                        <div class="botoes-wrapper">
                            <button class="btn btn-encomendar" onclick="abrirModalVariacao('Cesta Pequena', '215,00', '220,00')">
                                <i class="fab fa-whatsapp" style="margin-right: 8px;"></i> PEDIR NO WHATSAPP
                            </button>
                            <button class="btn btn-info" onclick="abrirModalInfo('pequena')">
                                <i class="fas fa-list" style="margin-right: 5px;"></i> Ver Itens
                            </button>
                            <button class="btn btn-share" onclick="compartilharCesta('Cesta Pequena', '215,00')">
                                <i class="fab fa-whatsapp" style="margin-right: 5px;"></i> Enviar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- CESTA M√âDIA -->
                <div class="card card-cesta" id="cestamedia">
                    <div class="cesta-header"><h3>Cesta M√©dia</h3></div>
                    <div class="cesta-body">
                        <img src="img/cesta-media1.jpg" class="foto-cesta-unica" alt="Cesta B√°sica M√©dia" onerror="this.src='https://placehold.co/400x400?text=M√âDIA'">
                        <div class="lista-precos-cesta">
                            <div class="item-preco"><span>Com Arroz Tio Alvino:</span><strong>R$ 320,00</strong></div>
                            <div class="item-preco"><span>Com Arroz Koblenz:</span><strong>R$ 325,00</strong></div>
                        </div>
                        <div class="botoes-wrapper">
                            <button class="btn btn-encomendar" onclick="abrirModalVariacao('Cesta M√©dia', '320,00', '325,00')">
                                <i class="fab fa-whatsapp" style="margin-right: 8px;"></i> PEDIR NO WHATSAPP
                            </button>
                            <button class="btn btn-info" onclick="abrirModalInfo('media')">
                                <i class="fas fa-list" style="margin-right: 5px;"></i> Ver Itens
                            </button>
                            <button class="btn btn-share" onclick="compartilharCesta('Cesta M√©dia', '320,00')">
                                <i class="fab fa-whatsapp" style="margin-right: 5px;"></i> Enviar
                            </button>
                        </div>
                    </div>
                </div>

                <!-- CESTA GRANDE -->
                <div class="card card-cesta" id="cestagrande">
                    <div class="cesta-header"><h3>Cesta Grande</h3></div>
                    <div class="cesta-body">
                        <img src="img/cesta-grande1.jpg" class="foto-cesta-unica" alt="Cesta B√°sica Grande" onerror="this.src='https://placehold.co/400x400?text=GRANDE'">
                        <div class="lista-precos-cesta">
                            <div class="item-preco"><span>Com Arroz Tio Alvino:</span><strong>R$ 380,00</strong></div>
                            <div class="item-preco"><span>Com Arroz Koblenz:</span><strong>R$ 390,00</strong></div>
                        </div>
                        <div class="botoes-wrapper">
                            <button class="btn btn-encomendar" onclick="abrirModalVariacao('Cesta Grande', '380,00', '390,00')">
                                <i class="fab fa-whatsapp" style="margin-right: 8px;"></i> PEDIR NO WHATSAPP
                            </button>
                            <button class="btn btn-info" onclick="abrirModalInfo('grande')">
                                <i class="fas fa-list" style="margin-right: 5px;"></i> Ver Itens
                            </button>
                            <button class="btn btn-share" onclick="compartilharCesta('Cesta Grande', '380,00')">
                                <i class="fab fa-whatsapp" style="margin-right: 5px;"></i> Enviar
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- SE√á√ïES EXTRAS (COM IDS PARA NAVEGA√á√ÉO) -->
        <div class="secoes-extras-grid">
            
            <!-- 1. SORTEIO -->
            <div id="pag-sorteio" class="secao-conteudo">
                <div class="section-icon-header">
                    <img src="img/cesta.png" alt="Sorteio Cesta B√°sica" onerror="this.onerror=null;this.src='https://placehold.co/60x60/4CAF50/ffffff?text=S'">
                </div>
                <div class="card">
                    <h2>üéâ Sorteio todo Domingo.</h2>
                    <p>Pr√≥ximo Sorteio dia 7 de Dezembro as 18h. V√°lido para moradores de Cuiab√° e VG</p>
                    
                    <div id="area-busca-telefone" class="card" style="margin-bottom: 15px;">
                        <h2>üçÄ Participe</h2>
                        <label>Telefone (Whatsapp): <span style="color:red">*</span></label>
                        <input type="tel" id="busca-telefone" placeholder="Digite seu telefone..." required>
                        <button onclick="buscarCadastro('')" class="btn" style="background-color: var(--cor-primaria); margin-top: 5px;">
                            <i class="fas fa-search" style="margin-right: 8px;"></i> Participar
                        </button>
                    </div>

                    <div id="cadastro-encontrado" class="area-resultado-busca" style="display: none;">
                        <h2>‚úÖ Cadastro Encontrado!</h2>
                        <p style="margin-bottom: 10px;">Confira seus dados:</p>
                        <div style="text-align: left;">
                            <p><strong>Nome:</strong> <span id="nome-cliente-encontrado"></span></p>
                            <p><strong>Cidade:</strong> <span id="cidade-cliente-encontrado"></span></p>
                            <p><strong>Bairro:</strong> <span id="bairro-cliente-encontrado"></span></p>
                        </div>
                        <button onclick="confirmarJaCadastrado('')" class="btn" style="background-color: var(--cor-whatsapp); margin-top: 15px;">
                            <i class="fab fa-whatsapp" style="margin-right: 8px;"></i> Confirmar e Participar
                        </button>
                    </div>
                    
                    <div id="cadastro-novo" class="card cadastro-novo-style" style="display: none;">
                        <h3 class="titulo-novo-cadastro">üìù Fazer Cadastro</h3>
                        <p class="subtitulo-novo-cadastro">N√£o achamos seu n√∫mero. Preencha abaixo para participar:</p>
                        
                        <form onsubmit="event.preventDefault(); enviarNovoCadastro('');">
                            <label style="font-weight:bold; font-size:0.95rem; color:#444;">Nome Completo:</label>
                            <input type="text" id="novo-nome" placeholder="Digite seu nome..." required 
                                   onkeyup="verificarPreenchimento('')" onchange="verificarPreenchimento('')">
                            
                            <label style="font-weight:bold; font-size:0.95rem; color:#444;">Telefone:</label>
                            <input type="tel" id="novo-telefone" disabled style="background:#eee; color:#777;"> 
                            
                            <label style="font-weight:bold; font-size:0.95rem; color:#444;">Cidade:</label>
                            <select id="novo-cidade" required onchange="verificarPreenchimento('')">
                                <option value="">Toque para escolher...</option>
                                <option value="Cuiab√°">Cuiab√°</option>
                                <option value="V√°rzea Grande">V√°rzea Grande</option>
                            </select>
                            
                            <label style="font-weight:bold; font-size:0.95rem; color:#444;">Bairro:</label>
                            <input type="text" id="novo-bairro" placeholder="Digite seu bairro..." required
                                   onkeyup="verificarPreenchimento('')" onchange="verificarPreenchimento('')">
                            
                            <button type="submit" id="btn-enviar-cadastro" class="btn btn-validacao">
                                <i class="fas fa-edit" style="margin-right: 8px;"></i> Preencha tudo...
                            </button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- 2. PAGAMENTO -->
            <div id="pag-pagamento" class="secao-conteudo">
                <div class="section-icon-header">
                    <img src="img/pagamento.png" alt="Formas de Pagamento" onerror="this.onerror=null;this.src='https://placehold.co/60x60/2196F3/ffffff?text=P'">
                </div>
                <div class="card">
                    <h2>üí≥ Formas de Pagamento</h2>
                    <ul class="lista-pagamento" id="lista-pagamento-original">
                        <li><span class="emoji-icon">üíµ</span> Dinheiro</li>
                        <li><span class="emoji-icon">‚ú®</span> Pix</li>
                        <li><span class="emoji-icon">üí≥</span> Cart√£o de D√©bito</li>
                        <li><span class="emoji-icon">üí≥</span> Cart√£o de Cr√©dito (at√© 3x sem juros)</li>
                        <li><span class="emoji-icon">ü•ó</span> Alelo, Sodexo, Pluxee (Alimenta√ß√£o e Refei√ß√£o)</li>
                        <li><span class="emoji-icon">üì±</span> Ifood, Caju e Flash</li>
                    </ul>
                    <p style="color: red; font-size: 1rem; text-align: center; margin-top: 20px;"><strong>‚ö†Ô∏è Aten√ß√£o:</strong> N√£o vendemos a prazo.</p>
                </div>
            </div>

            <!-- 3. ENTREGA -->
            <div id="pag-entrega" class="secao-conteudo">
                <div class="section-icon-header">
                    <img src="img/entrega.png" alt="Entrega de Cesta B√°sica" onerror="this.onerror=null;this.src='https://placehold.co/60x60/FF9800/ffffff?text=E'">
                </div>
                <div class="card">
                    <h2 style="color: #F57C00;">üöö Entrega Gr√°tis</h2>
                    <div id="conteudo-entrega-original">
                        <p style="font-size: 0.95rem;">Entregamos em <strong>Cuiab√°</strong> e <strong>V√°rzea Grande</strong> (√°rea urbana).</p>
                        <hr style="border:0; border-top:1px dashed #eee; margin: 15px 0;">
                        <p style="font-size: 0.95rem;"><i class="fas fa-clock" style="color:#666; margin-right:5px;"></i> <strong>Hor√°rios:</strong></p>
                        <p style="font-size: 0.95rem;">As entregas s√£o realizadas por rota.</p>
                        <p style="background-color: #e8f5e9; padding: 10px; border-radius: 6px; margin-top: 10px; font-size: 0.95rem;">
                            Encomende at√© as <strong>10h da manh√£</strong> para receber no mesmo dia!
                        </p>
                    </div>
                </div>
            </div>

        </div>

        <footer class="seo-text-block" style="text-align: center; font-size: 0.85rem; color: #888; padding: 15px 30px;">
            <p><strong>Cesta B√°sica Dona Ant√¥nia</strong> - A melhor op√ß√£o em alimentos para sua fam√≠lia.</p>
            <p>Atendemos toda a regi√£o de <strong>Cuiab√° - MT</strong> e <strong>V√°rzea Grande - MT</strong>.</p>
        </footer>
    </div>

    <!-- NOVA BARRA DE NAVEGA√á√ÉO INFERIOR -->
    <nav class="bottom-nav">
        <a href="#pag-cestas" class="nav-item">
            <i class="fas fa-home"></i>
            <span>In√≠cio</span>
        </a>
        <a href="#pag-sorteio" class="nav-item">
            <i class="fas fa-gift" style="color: var(--cor-sorteio);"></i>
            <span>Sorteio</span>
        </a>
        <a href="#pag-pagamento" class="nav-item">
            <i class="fas fa-credit-card" style="color: var(--cor-pagamento);"></i>
            <span>Pagamento</span>
        </a>
        <a href="#pag-entrega" class="nav-item">
            <i class="fas fa-truck" style="color: var(--cor-entrega);"></i>
            <span>Entrega</span>
        </a>
        <!-- Novo Bot√£o de Contato -->
        <a href="#" onclick="event.preventDefault(); abrirModalContatos();" class="nav-item">
            <i class="fas fa-comments" style="color: var(--cor-primaria);"></i>
            <span>Contato</span>
        </a>
    </nav>

    <!-- MODAL DE ESCOLHA -->
    <div id="modalVariacao" class="modal-variacao" onclick="if(event.target === this) fecharModalVariacao()">
        <div class="modal-variacao-content">
            <button class="btn-fechar-modal-var" onclick="fecharModalVariacao()">&times;</button>
            <h3 class="titulo-modal-var" id="tituloCestaModal">Cesta X</h3>
            <p class="subtitulo-modal-var">Escolha a marca do arroz para continuar:</p>
            <div class="opcao-select" id="optAlvino" onclick="selecionarOpcao('alvino')">
                <div class="opcao-info"><span class="opcao-nome">Arroz Tio Alvino</span><span class="opcao-preco" id="precoAlvinoDisplay">R$ 0,00</span></div>
                <div class="radio-custom"></div>
            </div>
            <div class="opcao-select" id="optKoblenz" onclick="selecionarOpcao('koblenz')">
                <div class="opcao-info"><span class="opcao-nome">Arroz Koblenz</span><span class="opcao-preco" id="precoKoblenzDisplay">R$ 0,00</span></div>
                <div class="radio-custom"></div>
            </div>
            <button class="btn-confirmar-pedido" id="btnConfirmarPedido" onclick="confirmarAcao()" disabled>
                <i class="fab fa-whatsapp"></i> Enviar Pedido
            </button>
        </div>
    </div>

    <!-- MODAL: INFORMA√á√ïES (SIMPLIFICADO) -->
    <div id="modalInformacoes" class="modal-variacao" onclick="if(event.target === this) fecharModalInfo()">
        <div class="modal-info-content">
            <!-- Header Modal -->
            <div class="modal-info-header">
                <h3 id="tituloModalInfo">Itens da Cesta</h3>
                <button class="btn-fechar-modal-info" onclick="fecharModalInfo()">&times;</button>
            </div>
            
            <!-- Conte√∫do √önico (Sem Abas) -->
            <div class="modal-body-scroll">
                <ul class="lista-produtos-modal" id="listaProdutosContent">
                    <!-- Preenchido via JS -->
                </ul>
            </div>
        </div>
    </div>

    <!-- MODAL DE CONTATOS (OTIMIZADO) -->
    <div id="modalContatos" class="modal-variacao" onclick="if(event.target === this) fecharModalContatos()">
        <div class="modal-variacao-content" style="padding-top: 40px;">
            <button class="btn-fechar-modal-var" onclick="fecharModalContatos()">&times;</button>
            
            <!-- HERO: WHATSAPP -->
            <a href="https://wa.me/5565998150975" class="btn-whatsapp-hero" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-whatsapp"></i> 
                FALAR NO WHATSAPP
                <span>Resposta R√°pida</span>
            </a>

            <!-- SECUND√ÅRIO: TELEFONES -->
            <div class="modal-section-title">Ligar para N√≥s</div>
            <div class="grid-botoes-modal">
                <a href="tel:+5565998150975" class="btn-secundario-modal">
                    <i class="fas fa-phone-alt"></i> (65) 99815-0975
                </a>
                <a href="tel:+5565996813588" class="btn-secundario-modal">
                    <i class="fas fa-phone-alt"></i> (65) 99681-3588
                </a>
            </div>

            <!-- TERCI√ÅRIO: REDES SOCIAIS (ICONES) -->
            <div class="modal-section-title">Redes Sociais</div>
            <div class="social-buttons-row">
                <a href="https://instagram.com/super.cestas.dona.antonia/" class="btn-social-icon bg-instagram" target="_blank">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://t.me/+5565998150975" class="btn-social-icon bg-telegram" target="_blank">
                    <i class="fab fa-telegram-plane"></i>
                </a>
                <a href="https://chat.whatsapp.com/HH8eJ4lz5E04bZFW1fUf9t" class="btn-social-icon bg-facebook" target="_blank" title="Grupo Sorteio">
                    <i class="fas fa-users"></i>
                </a>
            </div>
            
            <button onclick="instalarPWA(); fecharModalContatos();" class="btn-app-link">
                <i class="fas fa-download"></i> Baixar o Aplicativo
            </button>
        </div>
    </div>
    
    <!-- MOCK DE DADOS PARA PREVIEW -->
    <script>
        var clientes = [
            { nome: "Cliente Teste", telefone: "65999991234", cidade: "Cuiab√°", bairro: "Centro" },
            { nome: "Maria Silva", telefone: "65988885678", cidade: "V√°rzea Grande", bairro: "Cristo Rei" }
        ];
    </script>
    <script src="data/clientes.js" onerror="console.warn('Usando dados mockados para preview.')"></script>

    <script>
        const TELEFONE = "5565998150975"; 
        
        let deferredPrompt; 
        let dadosCestaAtual = { nome: '', precoAlvino: '', precoKoblenz: '' };
        let opcaoEscolhida = ''; 
        
        const listasCestas = {
            'economica': [
                "<span class='section-title'>Alimentos:</span>",
                "1 Arroz de 5kg", "1 A√ß√∫car Cristal de 2kg", "1 √ìleo de Soja de 900ml", "1 Feij√£o Dona D√™ de 1kg",
                "1 Caf√© 250g", "1 Espaguete de 400g", "1 Trigo de 1kg", "1 Farinha de Mandioca de 1kg",
                "1 Sal de 1kg", "1 Molho Tomate 300g", "1 Milho Lata ou sach√™ de 250g", "1 Bolacha Recheada",
                "1 Miojo Apti", "1 Suco P√≥"
            ],
            'mini': [
                "<span class='section-title'>Alimentos:</span>",
                "1 Arroz de 5kg", "1 A√ß√∫car Cristal de 2kg", "2 √ìleo de Soja de 900ml", "2 Feij√£o Da Casa de 1kg",
                "1 Caf√© Caboclo de 250g", "1 Espaguete de 500g", "1 Sal de 1kg", "1 Molho Tomate FUGINI",
                "1 Milho Lata de 250g", "1 Bolacha Recheada My Bit", "1 Miojo Apti", "2 Suco P√≥",
                "<span class='section-title'>Limpeza e Higiene:</span>",
                "1 Sab√£o Barra YPE c/ 5 un", "1 Creme Dental Sorriso 70g", "1 Papel Higi√™nico c/ 4un",
                "1 Amaciante Ype de 2 Litros", "1 Desinfetante Remmus 2 L", "1 Sab√£o P√≥ OMO 800g",
                "1 Detergente Ype de 500ml", "1 Qboa de 1 Litro", "2 Sabonete Palmolive 90g",
                "1 Esponja de A√ßo Assolan", "1 Esponja de Lavar Lou√ßa"
            ],
            'pequena': [
                "<span class='section-title'>Alimentos:</span>",
                "2 Arroz de 5kg", "1 A√ß√∫car Cristal de 2kg", "2 √ìleo de Soja de 900ml", "2 Feij√£o Da Casa de 1kg",
                "1 Caf√© Caboclo de 250g", "12 Ovos", "1 Mistura para Bolo 400g", "1 Espaguete de 500g",
                "1 Trigo de 1kg", "1 Sal de 1kg", "1 Molho Tomate Fugini", "1 Milho Lata de 250g",
                "1 Tempero Pronto de 300g", "2 Bolacha Recheada My Bit", "2 Miojo Yolle", "2 Suco P√≥",
                "<span class='section-title'>Limpeza e Higiene:</span>",
                "1 Sab√£o Barra YPE c/ 5 un", "1 Creme Dental Sorriso 70g", "1 Papel Higi√™nico c/ 4un",
                "1 Amaciante Ype de 2 Litros", "1 Desinfetante Remmus 2 L", "1 Sab√£o P√≥ OMO 800g",
                "2 Detergente Ype de 500ml", "1 Qboa de 1 Litro", "2 Sabonete Palmolive 90g",
                "1 Esponja de A√ßo Assolan", "1 Bucha de lavar lou√ßa"
            ],
            'media': [
                "<span class='section-title'>Alimentos:</span>",
                "3 Arroz de 5kg", "2 A√ß√∫car Cristal de 2kg", "3 √ìleo de Soja de 900ml", "3 Feij√£o Da Casa de 1kg",
                "1 Caf√© Caboclo 500g", "12 Ovos", "1 Mistura para Bolo 400g", "2 Espaguete de 500g",
                "1 Trigo de 1kg", "1 Sal de 1kg", "2 Molho Tomate FUGINI 340g", "1 Milho Lata/sach√™ de 250g",
                "1 Tempero Pronto de 300g", "2 Bolacha Recheada My Bit", "2 Miojo Apti", "3 Suco P√≥",
                "<span class='section-title'>Limpeza e Higiene:</span>",
                "1 Sab√£o Barra YPE c/ 5 un", "2 Creme Dental Sorriso 70g", "2 Papel Higi√™nico c/ 4un",
                "1 Amaciante Ype de 2 Litros", "1 Desinfetante Remmus 2 L", "1 Sab√£o P√≥ OMO 800g",
                "2 Detergente Ype de 500ml", "1 Qboa de 1 Litro", "3 Sabonete Palmolive 90g",
                "1 Esponja de A√ßo Assolan", "1 Esponja de Lavar Lou√ßa"
            ],
            'grande': [
                "<span class='section-title'>Alimentos:</span>",
                "4 Arroz de 5kg", "3 A√ß√∫car Cristal de 2kg", "4 √ìleo de Soja de 900ml", "4 Feij√£o Da Casa de 1kg",
                "1 Caf√© Caboclo 500g", "3 Espaguetes de 500g", "12 Ovos", "1 Mistura para Bolo 400g",
                "1 Trigo de 1kg", "1 Sal de 1kg", "2 Molho Tomate FUGINI 340g", "1 Milho Lata ou sach√™ de 250g",
                "1 Tempero Pronto de 300g", "2 Bolacha Recheada My Bit", "2 Miojo Apti", "4 Suco P√≥",
                "<span class='section-title'>Limpeza e Higiene:</span>",
                "1 Sab√£o Barra YPE c/ 5 un", "2 Creme Dental Sorriso 70g", "2 Papel Higi√™nico c/ 4un",
                "1 Amaciante Ype de 2 Litros", "1 Desinfetante Remmus 2 L", "1 Sab√£o P√≥ OMO 800g",
                "2 Detergente Ype de 500ml", "1 Qboa de 1 Litro", "4 Sabonete Palmolive 90g",
                "1 Esponja de A√ßo Assolan", "1 Esponja de Lavar Lou√ßa"
            ]
        };

        // Fun√ß√£o de Compartilhamento
        function compartilharCesta(nomeCesta, precoCesta) {
            const texto = `Olha essa cesta: *${nomeCesta}* por *R$ ${precoCesta}*.\nAcesse o site: https://donaantonia.com.br/`;
            window.open(`https://wa.me/?text=${encodeURIComponent(texto)}`, '_blank');
        }

        // --- MODAL INFO (SIMPLIFICADO) ---
        function abrirModalInfo(cestaTipo) {
            const listaEl = document.getElementById('listaProdutosContent');
            listaEl.innerHTML = ''; 
            const itens = listasCestas[cestaTipo] || ["Lista de produtos n√£o dispon√≠vel."];
            itens.forEach(item => {
                const li = document.createElement('li');
                if(item.includes('section-title')) {
                    li.innerHTML = item;
                    li.style.borderBottom = "none"; 
                } else {
                    li.innerHTML = `<i class="fas fa-check"></i> ${item}`;
                }
                listaEl.appendChild(li);
            });
            // N√£o copia mais pagamento/entrega, pois agora ficam na navega√ß√£o inferior
            
            const nomes = {'economica': 'Cesta Econ√¥mica', 'mini': 'Cesta Mini', 'pequena': 'Cesta Pequena', 'media': 'Cesta M√©dia', 'grande': 'Cesta Grande'};
            document.getElementById('tituloModalInfo').innerText = 'Itens: ' + (nomes[cestaTipo] || 'Informa√ß√µes');
            
            document.getElementById('modalInformacoes').style.display = 'flex';
        }

        function fecharModalInfo() { document.getElementById('modalInformacoes').style.display = 'none'; }

        // --- MODAL CONTATOS ---
        function abrirModalContatos() { document.getElementById('modalContatos').style.display = 'flex'; }
        function fecharModalContatos() { document.getElementById('modalContatos').style.display = 'none'; }

        // --- PWA ---
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // navigator.serviceWorker.register('./service-worker.js').catch(err => console.log('SW falhou', err));
            });
        }
        window.addEventListener('beforeinstallprompt', (e) => { e.preventDefault(); deferredPrompt = e; });
        function instalarPWA() {
            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
            if (isIOS) {
                mostrarMensagemToast("Para instalar no iPhone: Toque no bot√£o 'Compartilhar' abaixo e depois em 'Adicionar √† Tela de In√≠cio'.", "info");
                return;
            }
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') { deferredPrompt = null; mostrarMensagemToast("Instalado com sucesso!", "success"); }
                });
            } else { mostrarMensagemToast("Para instalar, abra o menu do navegador e escolha 'Adicionar √† tela inicial'.", "info"); }
        }

        // --- PRODUTO ---
        function encomendarDireto(produto, preco, incluirBrinde = true) { 
            let brindeTexto = incluirBrinde ? ". Com Amaciante Yp√™ de 2L de brinde." : ".";
            const textoZap = `Ol√°, quero encomendar a *${produto}* (Valor: R$ ${preco})${brindeTexto}`;
            window.open(`https://wa.me/${TELEFONE}?text=${encodeURIComponent(textoZap)}`, '_blank'); 
        }
        
        function abrirModalVariacao(nome, pAlvino, pKoblenz) { 
            dadosCestaAtual = { nome, precoAlvino: pAlvino, precoKoblenz: pKoblenz };
            opcaoEscolhida = '';
            document.getElementById('tituloCestaModal').innerText = nome;
            document.getElementById('precoAlvinoDisplay').innerText = 'R$ ' + pAlvino;
            document.getElementById('precoKoblenzDisplay').innerText = 'R$ ' + pKoblenz;
            document.getElementById('optAlvino').classList.remove('selected');
            document.getElementById('optKoblenz').classList.remove('selected');
            document.getElementById('btnConfirmarPedido').disabled = true;
            document.getElementById('modalVariacao').style.display = 'flex';
        }

        function selecionarOpcao(tipo) {
            opcaoEscolhida = tipo;
            document.getElementById('optAlvino').classList.remove('selected');
            document.getElementById('optKoblenz').classList.remove('selected');
            if(tipo === 'alvino') { document.getElementById('optAlvino').classList.add('selected'); } 
            else { document.getElementById('optKoblenz').classList.add('selected'); }
            document.getElementById('btnConfirmarPedido').disabled = false;
        }

        function confirmarAcao() {
            if(!opcaoEscolhida) return;
            let marca = opcaoEscolhida === 'alvino' ? 'Arroz Tio Alvino' : 'Arroz Koblenz';
            let preco = opcaoEscolhida === 'alvino' ? dadosCestaAtual.precoAlvino : dadosCestaAtual.precoKoblenz;
            let textoZap = `Ol√°, quero encomendar a *${dadosCestaAtual.nome}* com *${marca}* (Valor: R$ ${preco}). Com Amaciante Yp√™ de 2L de brinde.`;
            window.open(`https://wa.me/${TELEFONE}?text=${encodeURIComponent(textoZap)}`, '_blank');
            fecharModalVariacao();
        }

        function fecharModalVariacao() { document.getElementById('modalVariacao').style.display = 'none'; }
        
        // --- SORTEIO / CADASTRO ---
        function mostrarMensagemToast(msg, type = "info") {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            let typeClass = "toast-info";
            if(type === "success") typeClass = "toast-success";
            if(type === "error") typeClass = "toast-error";
            toast.className = `toast-message ${typeClass}`;
            toast.innerText = msg;
            container.appendChild(toast);
            setTimeout(() => { toast.classList.add('show'); }, 10);
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => { toast.remove(); }, 300);
            }, 4000);
        }
        
        function mostrarMensagemBusca(msg, isError = true) {
            mostrarMensagemToast(msg, isError ? "error" : "success");
        }

        async function carregarDadosClientes() {
            if (typeof clientes !== 'undefined' && clientes.length > 0) return; 
            try {
                const response = await fetch('data/clientes.js');
                if (response.ok) {
                    const text = await response.text();
                    try {
                        const jsonText = text.replace(/const\s+clientes\s*=\s*/, '').replace(/;\s*$/, '');
                        clientes = JSON.parse(jsonText);
                    } catch (e) { console.warn("Falha ao parsear clientes.js."); }
                }
            } catch (err) { console.warn("Modo preview: usando dados fict√≠cios."); }
        }
        
        async function buscarCadastro(sufixoId) {
            const cadastroEncontradoDiv = document.getElementById('cadastro-encontrado' + sufixoId);
            const cadastroNovoDiv = document.getElementById('cadastro-novo' + sufixoId);
            const buscaTelefoneInput = document.getElementById('busca-telefone' + sufixoId);
            const containerBusca = sufixoId === '' ? document.getElementById('area-busca-telefone') : document.getElementById('area-busca-telefone-modal');
            const btn = containerBusca.querySelector('.btn');

            cadastroEncontradoDiv.style.display = 'none';
            cadastroNovoDiv.style.display = 'none';

            const inputRaw = buscaTelefoneInput.value;
            const inputLimpo = inputRaw.replace(/\D/g, ''); 
            
            if (inputLimpo.length < 6) { 
                mostrarMensagemBusca("Digite pelo menos os 6 √∫ltimos d√≠gitos do seu telefone.", true); 
                return; 
            }
            const termoBusca = inputLimpo.slice(-6);
            const txtOriginal = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Buscando...'; 
            btn.disabled = true;

            await carregarDadosClientes();

            setTimeout(() => {
                btn.innerHTML = txtOriginal; 
                btn.disabled = false;
                let cliente = null;
                if(typeof clientes !== 'undefined' && Array.isArray(clientes) && clientes.length > 0) {
                    cliente = clientes.find(c => {
                        const telCadastro = String(c.telefone || '').replace(/\D/g, '');
                        return telCadastro.endsWith(termoBusca);
                    });
                }
                
                if (cliente) {
                    document.getElementById('nome-cliente-encontrado' + sufixoId).innerText = cliente.nome;
                    document.getElementById('cidade-cliente-encontrado' + sufixoId).innerText = cliente.cidade;
                    document.getElementById('bairro-cliente-encontrado' + sufixoId).innerText = cliente.bairro;
                    
                    buscaTelefoneInput.setAttribute('data-nome', cliente.nome);
                    buscaTelefoneInput.setAttribute('data-cidade', cliente.cidade);
                    buscaTelefoneInput.setAttribute('data-bairro', cliente.bairro);
                    cadastroEncontradoDiv.style.display = 'block';
                } else {
                    const inputNovoTel = document.getElementById('novo-telefone' + sufixoId);
                    if(inputNovoTel) { inputNovoTel.value = inputRaw; }
                    cadastroNovoDiv.style.display = 'block';
                }
            }, 600); 
        }

        // Fun√ß√£o de Valida√ß√£o Visual (NOVA)
        function verificarPreenchimento(sufixoId) {
            const nome = document.getElementById('novo-nome' + sufixoId).value.trim();
            const cidade = document.getElementById('novo-cidade' + sufixoId).value;
            const bairro = document.getElementById('novo-bairro' + sufixoId).value.trim();
            
            const btn = sufixoId === '' 
                ? document.getElementById('btn-enviar-cadastro') 
                : document.getElementById('btn-enviar-cadastro-modal');

            // Se tudo tiver preenchido (string n√£o vazia)
            if (nome.length > 2 && cidade !== "" && bairro.length > 2) {
                btn.classList.add('pronto'); // Fica verde
                btn.innerHTML = '<i class="fab fa-whatsapp" style="margin-right: 8px;"></i> Enviar Cadastro Agora!';
            } else {
                btn.classList.remove('pronto'); // Volta a cinza
                btn.innerHTML = '<i class="fas fa-edit" style="margin-right: 8px;"></i> Preencha tudo...';
            }
        }

        function enviarNovoCadastro(sufixoId) {
            const nome = document.getElementById('novo-nome' + sufixoId).value.trim();
            const tel = document.getElementById('novo-telefone' + sufixoId).value.trim(); 
            const cid = document.getElementById('novo-cidade' + sufixoId).value;
            const bai = document.getElementById('novo-bairro' + sufixoId).value.trim();
            
            // Valida√ß√£o simples
            if (!nome || !cid || !bai) {
                mostrarMensagemToast("Preencha todos os campos antes de enviar!", "error");
                return;
            }

            window.open(`https://wa.me/${TELEFONE}?text=${encodeURIComponent(`CADASTRO SORTEIO:\nNome: ${nome}\nTel: ${tel}\nCidade: ${cid}\nBairro: ${bai}`)}`, '_blank');
        }

        function confirmarJaCadastrado(sufixoId) {
            const buscaTelefoneInput = document.getElementById('busca-telefone' + sufixoId);
            const tel = buscaTelefoneInput.value;
            const nome = buscaTelefoneInput.getAttribute('data-nome') || "Cliente";
            const cid = buscaTelefoneInput.getAttribute('data-cidade') || "";
            const bai = buscaTelefoneInput.getAttribute('data-bairro') || "";
            window.open(`https://wa.me/${TELEFONE}?text=${encodeURIComponent(`J√Å SOU CADASTRADO:\nNome: ${nome}\nTel: ${tel}\nCidade: ${cid}\nBairro: ${bai}`)}`, '_blank');
        }

        window.onload = function() {
            carregarDadosClientes(); 
        };
    </script>
</body>
</html>
